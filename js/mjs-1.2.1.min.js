/* Magneticmediajs v1.2.1 | Copyright (c) 2014 Arnaud Leyder at Leyder Consulting https://www.leyder-consulting.com/
License information available at https://www.magneticmediajs.com/terms-of-service.html
For contact information please visit https://www.magneticmediajs.com
*/
var mjsGlobal={itemOnStage:!1,itemType:"",itemName:"",mapCallback:function(){},mapInstance:{},borderWidth:{},borderRadius:{},videoWidth:{},videoHeight:{},loadError:0,locationProtocol:"",hasTouchMove:!1,hasSwipe:!1,hasSwipeLeft:!1,hasSwipeRight:!1,startX:0,startY:0,timeSpacer:!1},Magneticmediajs=function(){function A(b,c,d){this.elements=this.getElements(b);this._defaults={color1:"080808",color2:"fdfdfd",borderWidth:8,borderRadius:8,background:"000000",backgroundOpacity:.7,displayTitle:!1,videoWidth:640, videoHeight:360,autoPlayVideo:!1,zoomOn:!1,zoomLevel:2,zoomType:"default",zoomSize:200,sharing:!1,facebookID:0xedf5063be3ee,gallery:!1,ecommerce:!1,showIcons:!0,galleryMaxThumbnailHeight:150,onMjsMediaOnStage:function(){},onMjsMediaOffStage:function(){}};this.settings=c;this.data=d}var ba=function(){var b=window.location.protocol;mjsGlobal.locationProtocol="undefined"===typeof b?"https:":"http:"===b?b:"https:"},Q=function(b){b=b.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(b,d,f,a){return d+ d+f+f+a+a});return(b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b))?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},D=function(b,c,d,f,a,g,h){var k=b/c;768>d?(a/=2.5,g/=2.5,d=Math.floor(75*d/100),f=Math.floor(75*f/100)):768<=d&&1024>d?(a/=1.5,g/=1.5,d=Math.floor(80*d/100),f=Math.floor(80*f/100)):(d=Math.floor(82*d/100),f=Math.floor(82*f/100));b>d&&c>f?(b=d,c=Math.floor(b/k),c>f&&(c=f,b=Math.floor(c*k))):b>d?(b=d,c=Math.floor(b/k),"maps"===h&&c<f&&(c=f)):c>f?(c=f,b=Math.floor(c* k),"maps"===h&&b<d&&(b=d)):(b=d,c=Math.floor(b/k),c>f&&(c=f,b=Math.floor(c*k)));h=[];h[0]=b;h[1]=c;h[2]=a;h[3]=g;return h},R=function(b){mjsGlobal.itemOnStage=!0;mjsGlobal.itemName=b;"image"===b||"flickr"===b||"instagram"===b?mjsGlobal.itemType="image":"video"===b||"youtube"===b||"vimeo"===b||"dailymotion"===b?mjsGlobal.itemType="video":"maps"===b&&(mjsGlobal.itemType="maps")},Y=function(){mjsGlobal.itemOnStage=!1;mjsGlobal.itemName="";mjsGlobal.itemType="";mjsGlobal.mapInstance=null},F=function(){return navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/g)? window.innerHeight:$(window).height()},G=function(b,c){0===b&&0<c&&($(".mjs-fs-wrapper > img").css("border-radius",c+"px"),$(".mjs-fs-wrapper > video").css("border-radius",c+"px"))},C=function(b,c,d,f,a,g,h,k,n,m,q,v){var l=$(window).width(),t=F(),w=new Image;w.id="mjs-img-full";$(w).appendTo(".mjs-fs-wrapper");$(w).on("load",function(){var b=S(w),s=b[0],b=b[1],p=D(s,b,l,t,m,q,"picture"),s=p[0],b=p[1],u=p[2],p=p[3];$(".mjs-fs-wrapper").css({width:s+"px",height:b+"px","max-width":"","max-height":""}).fadeIn(300); c&&T(w.src,d,f,a);g&&""!==h&&($(".mjs-fs-wrapper").append('<div class="mjs-title-area">'+h+"</div>"),$(".mjs-fs-wrapper").css({"margin-top":"-15px"}));H(k,n,u,p);$(".mjs-parent-spin").removeClass("mjs-do-spin");$(".mjs-parent-spin").hide();G(u,p);$(document).trigger("mjsMediaOnStage")});$(w).on("error",function(){$(".mjs-fullscreen").remove();$(".mjs-parent-spin").removeClass("mjs-do-spin");$(".mjs-parent-spin").hide();alert("An error occurred while loading this content. Please try again later.")}); w.src=b},U=function(b,c,d,f,a){b=new google.maps.LatLng(b,c);d={zoom:d,center:b};mjsGlobal.mapInstance=new google.maps.Map(document.getElementById("map-canvas"),d);var g=new google.maps.InfoWindow({content:a,maxWidth:300}),h=new google.maps.Marker({position:b,map:mjsGlobal.mapInstance,animation:google.maps.Animation.DROP,title:f});google.maps.event.addListener(h,"click",function(){g.open(mjsGlobal.mapInstance,h)})},ca=function(b){$("#mjsMaps").next().remove();$("#mjsMaps").remove();var c=document.createElement("script"); c.type="text/javascript";c.id="mjsMaps";window.mapCallback=mjsGlobal.mapCallback;c.src=""!==b?mjsGlobal.locationProtocol+"//maps.googleapis.com/maps/api/js?key="+b+"&v=3.exp&callback=window.mapCallback":mjsGlobal.locationProtocol+"//maps.googleapis.com/maps/api/js?v=3.exp&callback=window.mapCallback";document.body.appendChild(c)},J=function(b,c,d,f,a,g,h,k,n,m,q){q=$(window).width();var v=F();$(".mjs-fullscreen").css({width:q+"px",height:v+"px"});$('<div id="map-canvas" class="map-area"></div>').appendTo(".mjs-fs-wrapper"); mjsGlobal.mapCallback=function(){U(g,h,k,n,m)};ca(a);q=D(q,v,q,v,d,f,"maps");d=q[0];f=q[1];a=q[2];q=q[3];$(".mjs-fs-wrapper").css({width:d+"px",height:f+"px","max-width":"","max-height":"",background:"#FFFFFF",color:"#000000"}).fadeIn(300);H(b,c,a,q);$(".mjs-parent-spin").removeClass("mjs-do-spin");$(".mjs-parent-spin").hide();$(document).trigger("mjsMediaOnStage")},K=function(b,c,d,f,a,g,h,k,n,m,q,v,l){v=$(window).width();var t=F();"mjsSingleItem"===c&&(c=l,l="");var w;w=a?1:0;if(-1<b.indexOf("youtube"))var r= '<div class="mjs-video-player"><iframe src="'+mjsGlobal.locationProtocol+"//www.youtube.com/embed/"+c+"?autoplay="+w+'" frameborder="0" allowfullscreen></iframe></div>';else-1<b.indexOf("vimeo")?r='<div class="mjs-video-player"><iframe src="'+mjsGlobal.locationProtocol+"//player.vimeo.com/video/"+c+"?autoplay="+w+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>':-1<b.indexOf("dailymotion")?r='<div class="mjs-video-player"><iframe src="'+mjsGlobal.locationProtocol+ "//www.dailymotion.com/embed/video/"+c+"?autoplay="+w+'" frameborder="0"></iframe></div>':(b=c,c=l,""===l&&(c=b,b=""),l=!1,document.createElement("video").canPlayType&&""!==document.createElement("video").canPlayType("video/mp4")&&(l=!0),l?r='<video controls poster="'+b+'" src="'+c+'" class="mjs-video-player" '+(a?"autoplay":"")+' preload="auto"></video>':(l=c,"http:"!==l.substring(0,5)&&"https:"!==l.substring(0,5)&&(l="../"+l),"undefined"!==typeof swfobject&&swfobject.hasFlashPlayerVersion("10")&& (b=encodeURIComponent(b),l=encodeURIComponent(l),r='<div class="mjs-video-player"><object width="100%" height="100%"><param name="movie" value="flash/StrobeMediaPlayback.swf"></param><param name="flashvars" value="src='+l+"&poster="+b+"&controlBarAutoHide=true&autoPlay="+a+'"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><param name="wmode" value="transparent"></param><embed width="100%" height="100%" src="flash/StrobeMediaPlayback.swf" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" wmode="transparent" flashvars="src='+ l+"&poster="+b+"&controlBarAutoHide=true&autoPlay="+a+'"></embed></object>')));m=D(d,f,v,t,m,q,"video");width=m[0];height=m[1];a=m[2];m=m[3];$(".mjs-fs-wrapper").append(r);$(".mjs-fs-wrapper,.mjs-video-player").css({width:width+"px",height:height+"px","max-width":d+"px","max-height":f+"px"}).fadeIn(300);q=r=0;r=width>d?d:width;q=height>f?f:height;$(".mjs-video-player > iframe").css({width:r+"px",height:q+"px"});g&&""!==h&&($(".mjs-fs-wrapper").append('<div class="mjs-title-area">'+h+"</div>"),$(".mjs-fs-wrapper").css({"margin-top":"-15px"})); H(k,n,a,m);$(".mjs-parent-spin").removeClass("mjs-do-spin");$(".mjs-parent-spin").hide();G(a,m);$(document).trigger("mjsMediaOnStage")},da=function(b,c,d){var f="mqdefault";"small"===c?f="default":"medium"===c?f="mqdefault":"large"===c&&(f="hqdefault");b=mjsGlobal.locationProtocol+"//img.youtube.com/vi/"+b+"/"+f+".jpg";$("#mjsThumb"+d).prop("src",b)},ea=function(b,c,d){$.ajax({url:"https://www.vimeo.com/api/v2/video/"+b+".json?callback=?",dataType:"jsonp",timeout:5E3}).done(function(b){var a="",a= "small"===c?b[0].thumbnail_small:"medium"===c?b[0].thumbnail_medium:b[0].thumbnail_large;-1<a.indexOf("http:")&&"https:"===mjsGlobal.locationProtocol&&(a=a.replace("http:",mjsGlobal.locationProtocol));$("#mjsThumb"+d).prop("src",a)}).fail(function(){$("#mjsThumb"+d).parent().remove();mjsGlobal.loadError+=1})},fa=function(b,c,d){var f="360";"small"===c?f="180":"medium"===c?f="360":"large"===c&&(f="720");$.getJSON("https://api.dailymotion.com/video/"+b+"?fields=thumbnail_"+f+"_url",function(a){a=a["thumbnail_"+ f+"_url"];$("#mjsThumb"+d).prop("src",a)}).fail(function(){$("#mjsThumb"+d).parent().remove();mjsGlobal.loadError+=1})},S=function(b){var c=[];b.naturalWidth?(c[0]=b.naturalWidth,c[1]=b.naturalHeight):((new Image).src=b.src,$(newImage).on("load",function(){c[0]=this.width;c[1]=this.height}));return c},L=function(b,c,d,f,a,g,h,k,n,m,q,v,l,t,w){var r,s;$.ajax({url:"https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=3b109ff5810e4d81b73292507ca19928&text="+c+"&safe_search=1&per_page=10&user_id="+ b+"&format=json&jsoncallback=?",dataType:"jsonp",timeout:5E3}).done(function(b){"undefined"!==typeof b.photos&&0<b.photos.total?$.each(b.photos.photo,function(b,c){"thumbnail"===f?(s=mjsGlobal.locationProtocol+"//farm"+c.farm+".static.flickr.com/"+c.server+"/"+c.id+"_"+c.secret+"_n.jpg",$("#mjsThumb"+d).prop("src",s)):(r=mjsGlobal.locationProtocol+"//farm"+c.farm+".static.flickr.com/"+c.server+"/"+c.id+"_"+c.secret+"_b.jpg",C(r,a,g,h,k,n,m,q,v,l,t,w))}):"thumbnail"===f?($("#mjsThumb"+d).parent().remove(), mjsGlobal.loadError+=1):($(".mjs-fullscreen").remove(),$(".mjs-parent-spin").removeClass("mjs-do-spin"),$(".mjs-parent-spin").hide(),alert("An error occurred while loading this content. Please try again later."))}).fail(function(){"thumbnail"===f?($("#mjsThumb"+d).parent().remove(),mjsGlobal.loadError+=1):($(".mjs-fullscreen").remove(),$(".mjs-parent-spin").removeClass("mjs-do-spin"),$(".mjs-parent-spin").hide(),alert("An error occurred while loading this content. Please try again later."))})},M= function(b,c,d,f,a,g,h,k){var n;n=b;if(c)m=n.originalEvent.touches[0].pageX;else{var m=0;n||(n=window.event);n.pageX?m=n.pageX:n.clientX&&(m=n.clientX)}n=m;c?c=b.originalEvent.touches[0].pageY:(c=0,b||(b=window.event),b.pageY?c=b.pageY:b.clientX&&(c=b.clientY));m=b=0;b=n<a+k/4?-(k/4):n>=d+a-k/4?d-3*k/4:n-k/2-a;m=c<g+k/4?-(k/4):c>=f+g-k/4?f-3*k/4:c-k/2-g;bgX=b*h+k/2;bgY=m*h+k/2;0>bgY&&(bgY=0);0>bgX&&(bgX=0);$("#mjs-zoom-box").css({"background-position":"-"+bgX+"px -"+bgY+"px",left:""+b+"px",top:""+ m+"px"});$("#mjs-zoom-box").css({"background-size":""+d*h+"px "+f*h+"px"})},Z=function(b){b.stopPropagation();b.preventDefault();"mjs-fs-wrapper"!==b.target.id&&$(".mjs-fs-wrapper").trigger("mouseleave")},T=function(b,c,d,f){var a=!1,g=$(".mjs-fs-wrapper").width(),h=$(".mjs-fs-wrapper").height(),k=$(".mjs-fs-wrapper").offset().left,n=$(".mjs-fs-wrapper").offset().top,m=!1;$(document).on("touchstart",Z);$(".mjs-fs-wrapper").on("mouseleave",function(){$("#mjs-zoom-box").fadeOut("fast",function(){$(this).remove(); a=!1})});$(".mjs-fs-wrapper").on("touchstart",function(a){a.stopPropagation();a.preventDefault();m=!0;$(this).trigger("mouseenter",[a])});$(".mjs-fs-wrapper").on("mouseenter",function(q,v){if(a)m||(v=q),"mjs-zoom-box"!==v.target.id&&$(".mjs-fs-wrapper").trigger("mouseleave");else{$('<div id="mjs-zoom-box"></div>').hide().appendTo($(this));$("#mjs-zoom-box").css({"background-image":'url("'+b+'")'});$("#mjs-zoom-box").fadeIn("fast");a=!0;var l=$(window).width(),t=f;480>l?t=100:768>l&&(t/=1.4);100>t? t=100:300<t&&(t=300);$("#mjs-zoom-box").width(t);$("#mjs-zoom-box").height(t);"lens"===d?$("#mjs-zoom-box").css({"border-radius":"50%","-webkit-box-shadow":"inset 0px 0px 2px 2px #000, 0 0 0 8px #0a0a0a, 0 0 0 9px #EEE, 0px 0px 2px 10px #000","box-shadow":"inset 0px 0px 2px 2px #000, 0 0 0 8px #0a0a0a, 0 0 0 9px #EEE, 0px 0px 2px 10px #000"}):$("#mjs-zoom-box").css({"border-radius":"1px",border:"none","-webkit-box-shadow":"0px 0px 3px 1px #000","box-shadow":"0px 0px 3px 1px #000"});m||(v=q);M(v,m, g,h,k,n,c,t)}$(".mjs-fs-wrapper").on("mousemove touchmove",function(a){M(a,m,g,h,k,n,c,t)})})},H=function(b,c,d,f){if(b===c)var a=b,g="000";else a=b,g=c;$(".mjs-fs-wrapper").css({"border-radius":f+"px"});0<$(".mjs-fs-wrapper").find("img#mjs-img-full").length?$(".mjs-fs-wrapper > img#mjs-img-full").css({border:d+"px solid #"+b,"border-radius":f+"px"}):0<$(".mjs-fs-wrapper").find(".map-area").length?$(".mjs-fs-wrapper > .map-area").css({border:d+"px solid #"+b,"border-radius":f+"px"}):0<$(".mjs-fs-wrapper").find("video.mjs-video-player").length? $(".mjs-fs-wrapper > video.mjs-video-player").css({border:d+"px solid #"+b,"border-radius":f+"px"}):0<$(".mjs-video-player").find("iframe").length&&$(".mjs-video-player > iframe").css({border:d+"px solid #"+b,"border-radius":f+"px"});$(".mjs-title-area").css({color:"#"+g,background:"#"+a,"border-radius":Math.round(f/2)+"px"});$(".mjs-close,.mjs-facebook,.mjs-twitter").css({color:"#"+c})},aa=function(b,c){$(".mjs-parent-spin").css({background:"#"+b,color:"#"+c})},N=function(b){b.stopPropagation(); var c=b.data.param1.find("img");switch(b.which){case 32:b.preventDefault();0>=$(document).find(".mjs-fullscreen").length&&(b.data.param1.hasClass("mjs-generic")?c.trigger("click"):b.data.param1.trigger("click"));break;case 27:b.preventDefault();$(".mjs-fullscreen").fadeOut(300,function(){$(this).remove();Y();$(document).trigger("mjsMediaOffStage")});break;case 37:b.preventDefault();$(".mjs-previous").trigger("click");break;case 39:b.preventDefault(),$(".mjs-next").trigger("click")}},ga=function(b, c){for(var d=$(location).attr("search"),d=d.substr(1).split("&"),f=0;f<d.length;f++){var a=d[f].split("=");"magnetid"===a[0]&&(c&&a[1]===b?$("img#mjsThumb"+a[1].substr(a[1].length-1)).trigger("click"):!c&&(1<b.indexOf(a[1])||b===a[1])&&$("#"+a[1].replace("mjs","")).trigger("click"))}},I=function(b){if(10<Math.abs(b.originalEvent.touches[0].clientX-mjsGlobal.startX)||10<Math.abs(b.originalEvent.touches[0].clientY-mjsGlobal.startY))mjsGlobal.hasTouchMove=!0,$(document).off("touchmove",I)},O=function(b){50< b.originalEvent.touches[0].clientX-mjsGlobal.startX?(mjsGlobal.hasSwipe=!0,mjsGlobal.hasSwipeLeft=!0,$(document).off("touchmove",O)):50<mjsGlobal.startX-b.originalEvent.touches[0].clientX&&(mjsGlobal.hasSwipe=!0,mjsGlobal.hasSwipeRight=!0,$(document).off("touchmove",O))};A.prototype.init=function(){if(null===this.elements)return null;var b=$.trim(this.elements).split(","),c=this.settings,d=this._defaults,f;for(f in d)if("undefined"!==typeof c[f]){if(typeof c[f]!==typeof d[f])return console.log("Invalid input settings (typeof) for Magneticmedisjs"), null;d[f]=c[f]}var a=this.data;if(a.constructor!==Array)return console.log("Invalid data array - not an Array"),null;if(1>a.length)return null;for(c=0;c<a.length;c++){f=a[c];if(f.constructor!==Array)return console.log("Invalid data array - not an Array of Array"),null;var g=f.length;if(2>g)return null;for(var h=0;h<g;h++)if("string"!==typeof f[h]&&"maps"===f[0]&&"number"!==typeof f[h])return console.log("Invalid data array - only strings are valid for data array content"+typeof f[h]),null}var k=d.gallery, c=d.galleryMaxThumbnailHeight,n=d.videoWidth,m=d.videoHeight,q=d.autoPlayVideo,v=d.zoomOn,l=d.zoomLevel;1>l?l=1:4<l&&(l=4);var t=d.zoomType,w=d.zoomSize,r=d.displayTitle,s=d.color1,p=d.color2,u=d.borderWidth;20<u?u=20:0>u&&(u=0);var y=d.borderRadius;20<y?y=20:0>y&&(y=0);var A=d.background,H=d.backgroundOpacity,G=d.sharing,M=d.facebookID,P=d.ecommerce;P&&(k=!0);f=d.showIcons;var S=d.onMjsMediaOnStage,T=d.onMjsMediaOffStage,x=!1;k&&(x=!0);var E=a.length;ba();for(d=0;d<b.length;d++){var z=$($.trim(b[d])); x||z.attr("tabindex","0");var e=0,V=0;$(document).on("mjsMediaOnStage",function(){S()});$(document).on("mjsMediaOffStage",function(){T()});$("body").has(".mjs-parent-spin").length||($("body").append('<div class="mjs-parent-spin"><span class="mjs-s-spin animate-spin"></span></div>'),aa(s,p));k&&(z.addClass("mjs-row-gallery"),z.hide());for(g=0;g<E;g++){if(k){var B="mjs"+g;P?0===g?(z.addClass("mjs-ecommerce-gallery"),z.append('<div class="mjs-generic mjs-ecommerce-main" tabindex="0"><img id="mjsThumb'+ g+'" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" /></div>')):(1===g&&z.append('<div id="mjs-ecommerce-col"></div>'),$("#mjs-ecommerce-col").append('<div class="mjs-generic mjs-ecommerce-col-img" tabindex="0"><img id="mjsThumb'+g+'" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" /></div>')):z.append('<div class="mjs-generic" tabindex="0"><img id="mjsThumb'+g+'" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" /></div>');$("#mjsThumb"+g).on("error", {param:g},function(a){$("#mjsThumb"+a.data.param).parent().remove();mjsGlobal.loadError+=1});$("#mjsThumb"+g).on("load",function(){"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D"!==$(this).attr("src")&&(V+=1)});"youtube"===a[g][0]?da(a[g][1],a[g][2],g):"vimeo"===a[g][0]?ea(a[g][1],a[g][2],g):"dailymotion"===a[g][0]?fa(a[g][1],a[g][2],g):"flickr"===a[g][0]?L(a[g][1],a[g][2],g,"thumbnail","","","","","","","","","",""):"instagram"===a[g][0]?$("#mjsThumb"+g).prop("src",mjsGlobal.locationProtocol+ "//instagram.com/p/"+a[g][1]+"/media/?size=m"):$("#mjsThumb"+g).prop("src",a[g][1]);f&&("video"===a[g][0]||"youtube"===a[g][0]||"vimeo"===a[g][0]||"dailymotion"===a[g][0]?$("#mjsThumb"+g).parent().append('<div class="mjs-video-play-gallery mjs-i-play-circled"></div>'):"maps"===a[g][0]&&$("#mjsThumb"+g).parent().append('<div class="mjs-video-play-gallery mjs-i-location"></div>'));$(".mjs-video-play-gallery").css({color:"#"+p});var h=$("#mjsThumb"+g).parent().children(),W=1}else B="undefined"!==typeof z.attr("id")? "mjs"+z.attr("id"):z.offset().left+z.offset().top,h=z,W=0;mjsGlobal.borderWidth[B]=u;mjsGlobal.borderRadius[B]=y;mjsGlobal.videoWidth[B]=n;mjsGlobal.videoHeight[B]=m;h.on("touchstart",function(a){$("body").has(".mjs-fullscreen").length||($(document).off("touchmove",I),mjsGlobal.hasTouchMove=!1,mjsGlobal.startX=a.originalEvent.touches[0].clientX,mjsGlobal.startY=a.originalEvent.touches[0].clientY,$(document).on("touchmove",I),$(this).on("touchend",function ha(a){$(document).off("touchmove",I);mjsGlobal.hasTouchMove|| (a.stopPropagation(),a.preventDefault(),a.target.click());$(this).off("touchend",ha)}))});h.on("click",{param:g},function(b){if(!$("body").has(".mjs-fullscreen").length){mjsGlobal.timeSpacer=!0;setTimeout(function(){mjsGlobal.timeSpacer=!1},500);b.stopPropagation();$("#mjs-zoom-box").remove();$(".mjs-fs-wrapper").off("mouseleave mouseenter");e=b.data.param;var c="";$("body").append('<div class="mjs-fullscreen"></div>');$(".mjs-parent-spin").show();$(".mjs-parent-spin").addClass("mjs-do-spin");aa(s, p);b=Q("#"+A).r;var d=Q("#"+A).g,f=Q("#"+A).b,g=$(window).width(),h=F();$(".mjs-fullscreen").css({width:g+"px",height:h+"px",background:"rgba("+b+","+d+","+f+","+H+")"});b="";b=1<E&&x?"mjs"+e:B;$(".mjs-fullscreen").append('<div class="mjs-fs-wrapper" id="'+b+'"><div class="mjs-close mjs-icons mjs-i-cancel"></div></div>');G&&$(".mjs-fs-wrapper").append('<div class="mjs-facebook mjs-icons mjs-i-facebook-squared"></div><div class="mjs-twitter mjs-icons mjs-i-twitter-squared"></div>');r&&("image"!==a[e][0]&& "instagram"!==a[e][0]||k||"undefined"===typeof a[e][2]?"undefined"!==typeof a[e][3]&&(c=a[e][3]):c=a[e][2]);R(a[e][0]);"image"===a[e][0]?C(a[e][W+1],v,l,t,w,r,c,s,p,u,y,x):"flickr"===a[e][0]?L(a[e][1],a[e][2],e,"big",v,l,t,w,r,c,s,p,u,y,x):"instagram"===a[e][0]?C(mjsGlobal.locationProtocol+"//instagram.com/p/"+a[e][W+1]+"/media/?size=l",v,l,t,w,r,c,s,p,u,y,x):"video"===a[e][0]||"youtube"===a[e][0]||"vimeo"===a[e][0]||"dailymotion"===a[e][0]?x?K(a[e][0],a[e][1],n,m,q,r,c,s,p,u,y,x,a[e][2]):K(a[e][0], "mjsSingleItem",n,m,q,r,c,s,p,u,y,x,a[e][1]):"maps"===a[e][0]&&(x?J(s,p,u,y,a[e][2],a[e][3],a[e][4],a[e][5],a[e][6],a[e][7],x):J(s,p,u,y,a[e][1],a[e][2],a[e][3],a[e][4],a[e][5],a[e][6],x));1<E&&x&&($(".mjs-fs-wrapper").append('<div class="mjs-previous mjs-i-left-open"></div><div class="mjs-next mjs-i-right-open"></div>'),$(".mjs-next,.mjs-previous").css({color:"#"+p}),$(".mjs-previous").on("touchstart",function(a){a.stopPropagation();a.preventDefault();a.target.click()}),$(".mjs-previous").on("click", function(){$("#mjs-zoom-box").remove();$(".mjs-fs-wrapper").off("mouseleave mouseenter");e--; -1===e&&(e=E-1);$(".mjs-title-area").remove();r&&(c="undefined"!==typeof a[e][3]?a[e][3]:"");var b;mjsGlobal.itemOnStage&&"image"===mjsGlobal.itemType?b=$(".mjs-fs-wrapper > img"):mjsGlobal.itemOnStage&&"video"===mjsGlobal.itemType?b=$(".mjs-video-player"):mjsGlobal.itemOnStage&&"maps"===mjsGlobal.itemType&&(b=$(".map-area"));R(a[e][0]);"instagram"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage"); C(mjsGlobal.locationProtocol+"//instagram.com/p/"+a[e][2]+"/media/?size=l",v,l,t,w,r,c,s,p,u,y,x)}):"flickr"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");L(a[e][1],a[e][2],e,"big",v,l,t,w,r,c,s,p,u,y,x)}):"image"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");C(a[e][2],v,l,t,w,r,c,s,p,u,y,x)}):"video"===a[e][0]||"youtube"===a[e][0]||"vimeo"===a[e][0]||"dailymotion"===a[e][0]?b.fadeOut(200,function(){$(this).remove(); $(document).trigger("mjsMediaOffStage");K(a[e][0],a[e][1],n,m,q,r,c,s,p,u,y,x,a[e][1])}):"maps"===a[e][0]&&b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");J(s,p,u,y,a[e][2],a[e][3],a[e][4],a[e][5],a[e][6],a[e][7],x)});$(".mjs-fs-wrapper").attr("id","mjs"+e)}),$(".mjs-next").on("touchstart",function(a){a.stopPropagation();a.preventDefault();a.target.click()}),$(".mjs-next").on("click",function(){$("#mjs-zoom-box").remove();$(".mjs-fs-wrapper").off("mouseleave mouseenter"); e++;e===E&&(e=0);$(".mjs-title-area").remove();r&&(c="undefined"!==typeof a[e][3]?a[e][3]:"");var b;mjsGlobal.itemOnStage&&"image"===mjsGlobal.itemType?b=$(".mjs-fs-wrapper > img"):mjsGlobal.itemOnStage&&"video"===mjsGlobal.itemType?b=$(".mjs-video-player"):mjsGlobal.itemOnStage&&"maps"===mjsGlobal.itemType&&(b=$(".map-area"));R(a[e][0]);"instagram"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");C(mjsGlobal.locationProtocol+"//instagram.com/p/"+a[e][2]+ "/media/?size=l",v,l,t,w,r,c,s,p,u,y,x)}):"flickr"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");L(a[e][1],a[e][2],e,"big",v,l,t,w,r,c,s,p,u,y,x)}):"image"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");C(a[e][2],v,l,t,w,r,c,s,p,u,y,x)}):"video"===a[e][0]||"youtube"===a[e][0]||"vimeo"===a[e][0]||"dailymotion"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");K(a[e][0], a[e][1],n,m,q,r,c,s,p,u,y,x,a[e][1])}):"maps"===a[e][0]&&b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");J(s,p,u,y,a[e][2],a[e][3],a[e][4],a[e][5],a[e][6],a[e][7],x)});$(".mjs-fs-wrapper").attr("id","mjs"+e)}));$(".mjs-fullscreen").on("touchstart",function(a){if(mjsGlobal.timeSpacer)a.stopPropagation(),a.preventDefault();else{a.stopPropagation();a.preventDefault();var b=$(a.target);"undefined"!==typeof b[0].src&&-1<b[0].src.indexOf("maps.gstatic.com")||($(document).off("touchmove", I),mjsGlobal.hasSwipe=!1,mjsGlobal.hasSwipeLeft=!1,mjsGlobal.hasSwipeRight=!1,mjsGlobal.startX=a.originalEvent.touches[0].clientX,mjsGlobal.startY=a.originalEvent.touches[0].clientY,$(document).on("touchmove",O),$(this).on("touchend",function ia(a){$(document).off("touchmove",O);mjsGlobal.hasSwipe?mjsGlobal.hasSwipeLeft?$(".mjs-next").trigger("click"):mjsGlobal.hasSwipeRight&&$(".mjs-previous").trigger("click"):a.target.click();$(this).off("touchend",ia)}))}});$(".mjs-fullscreen").on("click",function(a){mjsGlobal.timeSpacer? (a.stopPropagation(),a.preventDefault()):(a=$(a.target),"undefined"!==typeof a[0].src&&-1<a[0].src.indexOf("maps.gstatic.com")||a.parents(".mjs-fs-wrapper").length&&!a.hasClass("mjs-close")||$(".mjs-fullscreen").fadeOut(300,function(){$(this).remove();Y(mjsGlobal);$(document).trigger("mjsMediaOffStage")}),$(document).off("touchstart",Z))})}});ga(B,k);G&&($(document).on("touchstart","#"+B+" > .mjs-facebook",function(a){a.stopPropagation();a.preventDefault();a.target.click()}),$(document).on("click", "#"+B+" > .mjs-facebook",function(){var a=window.location.origin+window.location.pathname,a=a+"?magnetid="+$(".mjs-fs-wrapper").attr("id"),a=mjsGlobal.locationProtocol+"//www.facebook.com/dialog/share?app_id="+M+"&display=popup&href="+encodeURIComponent(a)+"&redirect_uri="+a;window.open(a,"_blank")}),$(document).on("touchstart","#"+B+" > .mjs-twitter",function(a){a.stopPropagation();a.preventDefault();a.target.click()}),$(document).on("click","#"+B+" .mjs-twitter",function(){var a=window.location.origin+ window.location.pathname,a=a+"?magnetid="+$(".mjs-fs-wrapper").attr("id"),a=mjsGlobal.locationProtocol+"//twitter.com/share?url="+encodeURIComponent(a);window.open(a,"_blank")}))}if(k){var U=setInterval(function(){V>=E-mjsGlobal.loadError&&(z.show(0,function(){if(P){var a=$("#mjs-ecommerce-col").height();a>$(".mjs-ecommerce-main").height()&&($(".mjs-ecommerce-gallery").height(a),$(".mjs-ecommerce-main").addClass("mjs-ecommerce-main-adjust"))}}),clearInterval(U))},100);$(".mjs-generic").css({border:u/ 2+"px solid #"+s,"border-radius":y+"px"});$(".mjs-generic img").css({"max-height":c+"px",background:"#"+s,border:"none"})}x?($(".mjs-generic").on("focusout",function(){$(document).off("keydown",N)}),$(".mjs-generic").on("focusin",function(){var a=$(this);$(document).on("keydown",{param1:a},N)})):(z.on("focusout",function(){$(document).off("keydown",N)}),z.on("focusin",function(){var a=$(this);$(document).on("keydown",{param1:a},N)}));var X=!1;$(window).on("resize",function(){X||(setTimeout(function(){var a= $(".mjs-fs-wrapper").width(),b=$(".mjs-fs-wrapper").height(),c=$(window).width(),d=F();if(P){var e=$("#mjs-ecommerce-col").height();e>$(".mjs-ecommerce-main").height()?($(".mjs-ecommerce-gallery").height(e),$(".mjs-ecommerce-main").addClass("mjs-ecommerce-main-adjust")):$(".mjs-ecommerce-main").removeClass("mjs-ecommerce-main-adjust")}var e="",f=[];z.position();var g=$(".mjs-fs-wrapper").attr("id"),h=mjsGlobal.borderWidth[g],g=mjsGlobal.borderRadius[g];mjsGlobal.itemOnStage&&"image"===mjsGlobal.itemType? (e="picture",f=D(a,b,c,d,h,g,e)):mjsGlobal.itemOnStage&&"video"===mjsGlobal.itemType?(e="video",f=D(a,b,c,d,h,g,e)):mjsGlobal.itemOnStage&&"maps"===mjsGlobal.itemType&&(e="maps",f=D(a,b,c,d,h,g,e));a=f[0];b=f[1];$(".mjs-fullscreen").css({width:c+"px",height:d+"px"});"maps"===e?($(".mjs-fs-wrapper").css({width:a+"px",height:b+"px"}),google.maps.event.trigger(mjsGlobal.mapInstance,"resize")):($(".mjs-fs-wrapper").css({width:a+"px",height:b+"px"}),"video"===e&&($(".mjs-video-player").css({width:a+"px", height:b+"px"}),d=c=0,d=$(".mjs-fs-wrapper").attr("id"),c=a>mjsGlobal.videoWidth[d]?mjsGlobal.videoWidth[d]:a,d=b>mjsGlobal.videoHeight[d]?mjsGlobal.videoHeight[d]:b,$(".mjs-video-player > iframe").css({width:c+"px",height:d+"px"})));X=!1},100),X=!0)})}};A.prototype.openMedia=function(b){$("#"+b).hasClass("mjs-generic")?$("#"+b).find("img").trigger("click"):$("#"+b).trigger("click");return this};A.prototype.closeMedia=function(){$(".mjs-close").trigger("click");return this};A.prototype.previousMedia= function(){mjsGlobal.itemOnStage&&$(".mjs-previous").trigger("click");return this};A.prototype.nextMedia=function(){mjsGlobal.itemOnStage&&$(".mjs-next").trigger("click");return this};A.prototype.getOpenedMediaInfo=function(){return mjsGlobal.itemOnStage?mjsGlobal.itemName:null};A.prototype.getElements=function(b){return"string"===typeof b?b:null};A.prototype.setDefaults=function(b){var c=this._setDefaults,d;for(d in c)"undefined"!==typeof b[d]&&typeof c[d]===typeof b[d]&&(this._setDefaults[d]=b[d])}; return A}();