/* 
 * Magneticmediajs 1.3.0 (https://www.magneticmediajs.com)
 * Copyright (c) 2014-2015 Arnaud Leyder at Leyder Consulting (https://www.leyder-consulting.com)
 * Released under MIT license: https://www.magneticmediajs.com/mit-license.html
 * For contact information please visit https://www.magneticmediajs.com/about.html
 */
var mjsGlobal={itemOnStage:!1,itemType:"",itemName:"",mapCallback:function(){},mapInstance:{},borderWidth:{},borderRadius:{},videoWidth:{},videoHeight:{},loadError:0,locationProtocol:"",hasTouchMove:!1,hasSwipe:!1,hasSwipeLeft:!1,hasSwipeRight:!1,startX:0,startY:0,timeSpacer:!1},Magneticmediajs=function(){function D(b,d,c){this.elements=this.getElements(b);this._defaults={color1:"080808",color2:"fdfdfd",borderWidth:8,borderRadius:8,background:"000000",backgroundOpacity:.7,displayTitle:!1,videoWidth:640, videoHeight:360,autoPlayVideo:!1,zoomOn:!1,zoomLevel:2,zoomType:"default",zoomSize:200,sharing:!1,facebookID:0xedf5063be3ee,gallery:!1,ecommerce:!1,showIcons:!0,galleryMaxThumbnailHeight:150,thumbnailPadding:0,thumbnailBorderWidth:0,thumbnailBorderRadius:0,thumbnailBorderColor:"BBB",filter:"none",onMjsMediaOnStage:function(){},onMjsMediaOffStage:function(){}};this.settings=d;this.data=c}var ia=function(){var b=window.location.protocol;mjsGlobal.locationProtocol="undefined"===typeof b?"https:":"http:"=== b?b:"https:"},V=function(b){b=b.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(b,c,f,a){return c+c+f+f+a+a});return(b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b))?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},I=function(b,d,c,f,a,k,g){var l=b/d;768>c?(a/=2.5,k/=2.5,c=Math.floor(75*c/100),f=Math.floor(75*f/100)):768<=c&&1024>c?(a/=1.5,k/=1.5,c=Math.floor(80*c/100),f=Math.floor(80*f/100)):(c=Math.floor(82*c/100),f=Math.floor(82*f/100));b>c&&d>f?(b=c,d=Math.floor(b/ l),d>f&&(d=f,b=Math.floor(d*l))):b>c?(b=c,d=Math.floor(b/l),"maps"===g&&d<f&&(d=f)):d>f?(d=f,b=Math.floor(d*l),"maps"===g&&b<c&&(b=c)):(b=c,d=Math.floor(b/l),d>f&&(d=f,b=Math.floor(d*l)));g=[];g[0]=b;g[1]=d;g[2]=a;g[3]=k;return g},W=function(b){mjsGlobal.itemOnStage=!0;mjsGlobal.itemName=b;"image"===b||"flickr"===b||"instagram"===b?mjsGlobal.itemType="image":"video"===b||"youtube"===b||"vimeo"===b||"dailymotion"===b?mjsGlobal.itemType="video":"maps"===b&&(mjsGlobal.itemType="maps")},fa=function(){mjsGlobal.itemOnStage= !1;mjsGlobal.itemName="";mjsGlobal.itemType="";mjsGlobal.mapInstance=null},K=function(){return navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/g)?window.innerHeight:$(window).height()},L=function(b,d){0===b&&0<d&&($(".mjs-fs-wrapper > img").css("border-radius",d+"px"),$(".mjs-fs-wrapper > video").css("border-radius",d+"px"))},H=function(b,d,c,f,a,k,g,l,t,p,q,u,n){var w=$(window).width(),B=K(),h=new Image;h.id="mjs-img-full";$(h).appendTo(".mjs-fs-wrapper");var x=$(".mjs-fs-wrapper");$(h).on("load", function(){var b=X(h),r=b[0],b=b[1],u=I(r,b,w,B,p,q,"picture"),r=u[0],b=u[1],v=u[2],u=u[3];x.css({width:r+"px",height:b+"px","max-width":"","max-height":""}).fadeIn(300);d&&Y(h.src,c,f,a);k&&""!==g&&(x.append('<div class="mjs-title-area">'+g+"</div>"),x.css({"margin-top":"-15px"}));M(l,t,v,u);"none"!==n&&x.find("img").addClass("mjs-"+n);$(".mjs-parent-spin").removeClass("mjs-do-spin").hide();L(v,u);$(document).trigger("mjsMediaOnStage")});$(h).on("error",function(){$(".mjs-fullscreen").remove();$(".mjs-parent-spin").removeClass("mjs-do-spin").hide(); alert("An error occurred while loading this content. Please try again later.")});h.src=b},Z=function(b,d,c,f,a){b=new google.maps.LatLng(b,d);c={zoom:c,center:b};mjsGlobal.mapInstance=new google.maps.Map(document.getElementById("map-canvas"),c);var k=new google.maps.InfoWindow({content:a,maxWidth:300}),g=new google.maps.Marker({position:b,map:mjsGlobal.mapInstance,animation:google.maps.Animation.DROP,title:f});google.maps.event.addListener(g,"click",function(){k.open(mjsGlobal.mapInstance,g)})},aa= function(b){var d=$("#mjsMaps");d.next().remove();d.remove();d=document.createElement("script");d.type="text/javascript";d.id="mjsMaps";window.mapCallback=mjsGlobal.mapCallback;d.src=""!==b?mjsGlobal.locationProtocol+"//maps.googleapis.com/maps/api/js?key="+b+"&v=3.exp&callback=window.mapCallback":mjsGlobal.locationProtocol+"//maps.googleapis.com/maps/api/js?v=3.exp&callback=window.mapCallback";document.body.appendChild(d)},O=function(b,d,c,f,a,k,g,l,t,p,q){q=$(window).width();var u=K();$(".mjs-fullscreen").css({width:q+ "px",height:u+"px"});$('<div id="map-canvas" class="map-area"></div>').appendTo(".mjs-fs-wrapper");mjsGlobal.mapCallback=function(){Z(k,g,l,t,p)};aa(a);q=I(q,u,q,u,c,f,"maps");c=q[0];f=q[1];a=q[2];q=q[3];$(".mjs-fs-wrapper").css({width:c+"px",height:f+"px","max-width":"","max-height":"",background:"#FFFFFF",color:"#000000"}).fadeIn(300);M(b,d,a,q);$(".mjs-parent-spin").removeClass("mjs-do-spin").hide();$(document).trigger("mjsMediaOnStage")},P=function(b,d,c,f,a,k,g,l,t,p,q,u,n){u=$(window).width(); var w=K();"mjsSingleItem"===d&&(d=n,n="");var B;B=a?1:0;if(-1<b.indexOf("youtube"))var h='<div class="mjs-video-player"><iframe src="'+mjsGlobal.locationProtocol+"//www.youtube.com/embed/"+d+"?autoplay="+B+'" frameborder="0" allowfullscreen></iframe></div>';else-1<b.indexOf("vimeo")?h='<div class="mjs-video-player"><iframe src="'+mjsGlobal.locationProtocol+"//player.vimeo.com/video/"+d+"?autoplay="+B+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>':-1<b.indexOf("dailymotion")? h='<div class="mjs-video-player"><iframe src="'+mjsGlobal.locationProtocol+"//www.dailymotion.com/embed/video/"+d+"?autoplay="+B+'" frameborder="0"></iframe></div>':(b=d,d=n,""===n&&(d=b,b=""),n=!1,document.createElement("video").canPlayType&&""!==document.createElement("video").canPlayType("video/mp4")&&(n=!0),n?h='<video controls poster="'+b+'" src="'+d+'" class="mjs-video-player" '+(a?"autoplay":"")+' preload="auto"></video>':(n=d,"http:"!==n.substring(0,5)&&"https:"!==n.substring(0,5)&&(n="../"+ n),"undefined"!==typeof swfobject&&swfobject.hasFlashPlayerVersion("10")&&(b=encodeURIComponent(b),n=encodeURIComponent(n),h='<div class="mjs-video-player"><object width="100%" height="100%"><param name="movie" value="flash/StrobeMediaPlayback.swf"></param><param name="flashvars" value="src='+n+"&poster="+b+"&controlBarAutoHide=true&autoPlay="+a+'"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><param name="wmode" value="transparent"></param><embed width="100%" height="100%" src="flash/StrobeMediaPlayback.swf" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" wmode="transparent" flashvars="src='+ n+"&poster="+b+"&controlBarAutoHide=true&autoPlay="+a+'"></embed></object>')));p=I(c,f,u,w,p,q,"video");width=p[0];height=p[1];a=p[2];p=p[3];$(".mjs-fs-wrapper").append(h);$(".mjs-fs-wrapper, .mjs-video-player").css({width:width+"px",height:height+"px","max-width":c+"px","max-height":f+"px"}).fadeIn(300);q=h=0;h=width>c?c:width;q=height>f?f:height;$(".mjs-video-player").find("iframe").css({width:h+"px",height:q+"px"});k&&""!==g&&$(".mjs-fs-wrapper").append('<div class="mjs-title-area">'+g+"</div>").css({"margin-top":"-15px"}); M(l,t,a,p);$(".mjs-parent-spin").removeClass("mjs-do-spin").hide();L(a,p);$(document).trigger("mjsMediaOnStage")},ja=function(b,d,c){var f="mqdefault";"small"===d?f="default":"medium"===d?f="mqdefault":"large"===d&&(f="hqdefault");b=mjsGlobal.locationProtocol+"//img.youtube.com/vi/"+b+"/"+f+".jpg";$("#mjsThumb"+c).prop("src",b)},ka=function(b,d,c){$.ajax({url:"https://www.vimeo.com/api/v2/video/"+b+".json?callback=?",dataType:"jsonp",timeout:5E3}).done(function(b){var a="",a="small"===d?b[0].thumbnail_small: "medium"===d?b[0].thumbnail_medium:b[0].thumbnail_large;-1<a.indexOf("http:")&&"https:"===mjsGlobal.locationProtocol&&(a=a.replace("http:",mjsGlobal.locationProtocol));$("#mjsThumb"+c).prop("src",a)}).fail(function(){$("#mjsThumb"+c).parent().remove();mjsGlobal.loadError+=1})},la=function(b,d,c){var f="360";"small"===d?f="180":"medium"===d?f="360":"large"===d&&(f="720");$.getJSON("https://api.dailymotion.com/video/"+b+"?fields=thumbnail_"+f+"_url",function(a){a=a["thumbnail_"+f+"_url"];$("#mjsThumb"+ c).prop("src",a)}).fail(function(){$("#mjsThumb"+c).parent().remove();mjsGlobal.loadError+=1})},X=function(b){var d=[];b.naturalWidth?(d[0]=b.naturalWidth,d[1]=b.naturalHeight):((new Image).src=b.src,$(newImage).on("load",function(){d[0]=this.width;d[1]=this.height}));return d},Q=function(b,d,c,f,a,k,g,l,t,p,q,u,n,w,B,h){var x,z;$.ajax({url:"https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=3b109ff5810e4d81b73292507ca19928&text="+d+"&safe_search=1&per_page=10&user_id="+b+"&format=json&jsoncallback=?", dataType:"jsonp",timeout:5E3}).done(function(b){"undefined"!==typeof b.photos&&0<b.photos.total?$.each(b.photos.photo,function(b,d){"thumbnail"===f?(z=mjsGlobal.locationProtocol+"//farm"+d.farm+".static.flickr.com/"+d.server+"/"+d.id+"_"+d.secret+"_n.jpg",$("#mjsThumb"+c).prop("src",z)):(x=mjsGlobal.locationProtocol+"//farm"+d.farm+".static.flickr.com/"+d.server+"/"+d.id+"_"+d.secret+"_b.jpg",H(x,a,k,g,l,t,p,q,u,n,w,B,h))}):"thumbnail"===f?($("#mjsThumb"+c).parent().remove(),mjsGlobal.loadError+= 1):($(".mjs-fullscreen").remove(),$(".mjs-parent-spin").removeClass("mjs-do-spin").hide(),alert("An error occurred while loading this content. Please try again later."))}).fail(function(){"thumbnail"===f?($("#mjsThumb"+c).parent().remove(),mjsGlobal.loadError+=1):($(".mjs-fullscreen").remove(),$(".mjs-parent-spin").removeClass("mjs-do-spin").hide(),alert("An error occurred while loading this content. Please try again later."))})},R=function(b,d,c,f,a,k,g,l){var t;t=b;if(d)p=t.originalEvent.touches[0].pageX; else{var p=0;t||(t=window.event);t.pageX?p=t.pageX:t.clientX&&(p=t.clientX)}t=p;d?d=b.originalEvent.touches[0].pageY:(d=0,b||(b=window.event),b.pageY?d=b.pageY:b.clientX&&(d=b.clientY));p=b=0;b=t<a+l/4?-(l/4):t>=c+a-l/4?c-3*l/4:t-l/2-a;p=d<k+l/4?-(l/4):d>=f+k-l/4?f-3*l/4:d-l/2-k;bgX=b*g+l/2;bgY=p*g+l/2;0>bgY&&(bgY=0);0>bgX&&(bgX=0);$("#mjs-zoom-box").css({"background-position":"-"+bgX+"px -"+bgY+"px",left:""+b+"px",top:""+p+"px","background-size":""+c*g+"px "+f*g+"px"})},ga=function(b){b.stopPropagation(); b.preventDefault();"mjs-fs-wrapper"!==b.target.id&&$(".mjs-fs-wrapper").trigger("mouseleave")},Y=function(b,d,c,f){var a=!1,k=$(".mjs-fs-wrapper"),g=k.width(),l=k.height(),t=k.offset().left,p=k.offset().top,q=!1;$(document).on("touchstart",ga);$(".mjs-fs-wrapper").on("mouseleave",function(){$("#mjs-zoom-box").fadeOut("fast",function(){$(this).remove();a=!1})});k.on("touchstart",function(a){a.stopPropagation();a.preventDefault();q=!0;$(this).trigger("mouseenter",[a])});k.on("mouseenter",function(u, n){if(a)q||(n=u),"mjs-zoom-box"!==n.target.id&&k.trigger("mouseleave");else{$('<div id="mjs-zoom-box"></div>').hide().appendTo($(this));var w=$("#mjs-zoom-box");w.css({"background-image":'url("'+b+'")'}).fadeIn("fast");a=!0;var B=$(window).width(),h=f;480>B?h=100:768>B&&(h/=1.4);100>h?h=100:300<h&&(h=300);w.width(h).height(h);"lens"===c?w.css({"border-radius":"50%","-webkit-box-shadow":"inset 0px 0px 2px 2px #000, 0 0 0 8px #0a0a0a, 0 0 0 9px #EEE, 0px 0px 2px 10px #000","box-shadow":"inset 0px 0px 2px 2px #000, 0 0 0 8px #0a0a0a, 0 0 0 9px #EEE, 0px 0px 2px 10px #000"}): w.css({"border-radius":"1px",border:"none","-webkit-box-shadow":"0px 0px 3px 1px #000","box-shadow":"0px 0px 3px 1px #000"});q||(n=u);R(n,q,g,l,t,p,d,h)}k.on("mousemove touchmove",function(a){R(a,q,g,l,t,p,d,h)})})},M=function(b,d,c,f){if(b===d)var a=b,k="000";else a=b,k=d;var g=$(".mjs-fs-wrapper");g.css({"border-radius":f+"px"});0<g.find("#mjs-img-full").length?g.find("#mjs-img-full").css({border:c+"px solid #"+b,"border-radius":f+"px"}):0<g.find(".map-area").length?g.find(".map-area").css({border:c+ "px solid #"+b,"border-radius":f+"px"}):0<g.find("video.mjs-video-player").length?g.find("video.mjs-video-player").css({border:c+"px solid #"+b,"border-radius":f+"px"}):0<g.find("iframe").length&&g.find("iframe").css({border:c+"px solid #"+b,"border-radius":f+"px"});$(".mjs-title-area").css({color:"#"+k,background:"#"+a,"border-radius":Math.round(f/2)+"px"});$(".mjs-close, .mjs-facebook, .mjs-twitter").css({color:"#"+d})},ha=function(b,d){$(".mjs-parent-spin").css({background:"#"+b,color:"#"+d})}, S=function(b){b.stopPropagation();var d=b.data.param1.find("img");switch(b.which){case 32:b.preventDefault();0>=$(document).find(".mjs-fullscreen").length&&(b.data.param1.hasClass("mjs-generic")?d.trigger("click"):b.data.param1.trigger("click"));break;case 27:b.preventDefault();$(".mjs-fullscreen").fadeOut(300,function(){$(this).remove();fa();$(document).trigger("mjsMediaOffStage")});break;case 37:b.preventDefault();$(".mjs-previous").trigger("click");break;case 39:b.preventDefault(),$(".mjs-next").trigger("click")}}, ma=function(b,d){for(var c=$(location).attr("search"),c=c.substr(1).split("&"),f=0;f<c.length;f++){var a=c[f].split("=");"magnetid"===a[0]&&(d&&a[1]===b?$("img#mjsThumb"+a[1].substr(a[1].length-1)).trigger("click"):!d&&(1<b.indexOf(a[1])||b===a[1])&&$("#"+a[1].replace("mjs","")).trigger("click"))}},N=function(b){if(10<Math.abs(b.originalEvent.touches[0].clientX-mjsGlobal.startX)||10<Math.abs(b.originalEvent.touches[0].clientY-mjsGlobal.startY))mjsGlobal.hasTouchMove=!0,$(document).off("touchmove", N)},T=function(b){50<b.originalEvent.touches[0].clientX-mjsGlobal.startX?(mjsGlobal.hasSwipe=!0,mjsGlobal.hasSwipeLeft=!0,$(document).off("touchmove",T)):50<mjsGlobal.startX-b.originalEvent.touches[0].clientX&&(mjsGlobal.hasSwipe=!0,mjsGlobal.hasSwipeRight=!0,$(document).off("touchmove",T))};D.prototype.init=function(){if(null===this.elements)return null;var b=$.trim(this.elements).split(","),d=this.settings,c=this._defaults,f;for(f in c)if("undefined"!==typeof d[f]){if(typeof d[f]!==typeof c[f])return console.log("Invalid input settings (typeof) for Magneticmedisjs"), null;c[f]=d[f]}var a=this.data;if(a.constructor!==Array)return console.log("Invalid data array - not an Array"),null;if(1>a.length)return null;for(d=0;d<a.length;d++){f=a[d];if(f.constructor!==Array)return console.log("Invalid data array - not an Array of Array"),null;var k=f.length;if(2>k)return null;for(var g=0;g<k;g++)if("string"!==typeof f[g]&&"maps"===f[0]&&"number"!==typeof f[g])return console.log("Invalid data array - only strings are valid for data array content"+typeof f[g]),null}var l=c.gallery, d=c.galleryMaxThumbnailHeight;f=c.thumbnailPadding;var k=c.thumbnailBorderWidth,g=c.thumbnailBorderRadius,t=c.thumbnailBorderColor,p=c.videoWidth,q=c.videoHeight,u=c.autoPlayVideo,n=c.zoomOn,w=c.zoomLevel;1>w?w=1:4<w&&(w=4);var B=c.zoomType,h=c.zoomSize,x=c.displayTitle,z=c.color1,r=c.color2,G=c.filter,v=c.borderWidth;20<v?v=20:0>v&&(v=0);var A=c.borderRadius;20<A?A=20:0>A&&(A=0);var D=c.background,M=c.backgroundOpacity,L=c.sharing,R=c.facebookID,U=c.ecommerce;U&&(l=!0);var X=c.showIcons,Y=c.onMjsMediaOnStage, Z=c.onMjsMediaOffStage,y=!1;l&&(y=!0);var J=a.length;ia();for(var c=b.length,ba=0;ba<c;ba++){var C=$($.trim(b[ba]));y||C.attr("tabindex","0");var e=0,ca=0;$(document).on("mjsMediaOnStage",function(){Y()});$(document).on("mjsMediaOffStage",function(){Z()});$("body").has(".mjs-parent-spin").length||($("body").append('<div class="mjs-parent-spin"><span class="mjs-s-spin animate-spin"></span></div>'),ha(z,r));l&&C.addClass("mjs-row-gallery").hide();for(var m=0;m<J;m++){if(l){var E="mjs"+m;U?0===m?(C.addClass("mjs-ecommerce-gallery"), C.append('<div class="mjs-generic mjs-ecommerce-main" tabindex="0"><img id="mjsThumb'+m+'" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" /></div>')):(1===m&&C.append('<div id="mjs-ecommerce-col"></div>'),$("#mjs-ecommerce-col").append('<div class="mjs-generic mjs-ecommerce-col-img" tabindex="0"><img id="mjsThumb'+m+'" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" /></div>')):C.append('<div class="mjs-generic" tabindex="0"><img id="mjsThumb'+m+'" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" /></div>'); var F=$("#mjsThumb"+m);F.on("error",{param:m},function(a){$("#mjsThumb"+a.data.param).parent().remove();mjsGlobal.loadError+=1});F.on("load",function(){"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D"!==$(this).attr("src")&&(ca+=1)});"youtube"===a[m][0]?ja(a[m][1],a[m][2],m):"vimeo"===a[m][0]?ka(a[m][1],a[m][2],m):"dailymotion"===a[m][0]?la(a[m][1],a[m][2],m):"flickr"===a[m][0]?Q(a[m][1],a[m][2],m,"thumbnail","","","","","","","","","","",G):"instagram"===a[m][0]?F.prop("src",mjsGlobal.locationProtocol+ "//instagram.com/p/"+a[m][1]+"/media/?size=m"):F.prop("src",a[m][1]);X&&("video"===a[m][0]||"youtube"===a[m][0]||"vimeo"===a[m][0]||"dailymotion"===a[m][0]?F.parent().append('<div class="mjs-video-play-gallery mjs-i-play-circled"></div>'):"maps"===a[m][0]&&F.parent().append('<div class="mjs-video-play-gallery mjs-i-location"></div>'));$(".mjs-video-play-gallery").css({color:"#"+r});var F=F.parent().children(),da=1}else E="undefined"!==typeof C.attr("id")?"mjs"+C.attr("id"):C.offset().left+C.offset().top, F=C,da=0;mjsGlobal.borderWidth[E]=v;mjsGlobal.borderRadius[E]=A;mjsGlobal.videoWidth[E]=p;mjsGlobal.videoHeight[E]=q;F.on("touchstart",function(a){$("body").has(".mjs-fullscreen").length||($(document).off("touchmove",N),mjsGlobal.hasTouchMove=!1,mjsGlobal.startX=a.originalEvent.touches[0].clientX,mjsGlobal.startY=a.originalEvent.touches[0].clientY,$(document).on("touchmove",N),$(this).on("touchend",function na(a){$(document).off("touchmove",N);mjsGlobal.hasTouchMove||(a.stopPropagation(),a.preventDefault(), a.target.click());$(this).off("touchend",na)}))});F.on("click",{param:m},function(b){b.stopPropagation();if(!$("body").has(".mjs-fullscreen").length){mjsGlobal.timeSpacer=!0;setTimeout(function(){mjsGlobal.timeSpacer=!1},500);$("#mjs-zoom-box").remove();e=b.data.param;var d="";$("body").append('<div class="mjs-fullscreen"></div>');b=$(".mjs-fullscreen");$(".mjs-parent-spin").show().addClass("mjs-do-spin");ha(z,r);var c=V("#"+D).r,f=V("#"+D).g,g=V("#"+D).b,k=$(window).width(),m=K();b.css({width:k+ "px",height:m+"px",background:"rgba("+c+","+f+","+g+","+M+")"});c="";c=1<J&&y?"mjs"+e:E;b.append('<div class="mjs-fs-wrapper" id="'+c+'"><div class="mjs-close mjs-icons mjs-i-cancel"></div></div>');c=$(".mjs-fs-wrapper");c.off("mouseleave mouseenter");L&&c.append('<div class="mjs-facebook mjs-icons mjs-i-facebook-squared"></div><div class="mjs-twitter mjs-icons mjs-i-twitter-squared"></div>');x&&("image"!==a[e][0]&&"instagram"!==a[e][0]||l||"undefined"===typeof a[e][2]?"undefined"!==typeof a[e][3]&& (d=a[e][3]):d=a[e][2]);W(a[e][0]);"image"===a[e][0]?H(a[e][da+1],n,w,B,h,x,d,z,r,v,A,y,G):"flickr"===a[e][0]?Q(a[e][1],a[e][2],e,"big",n,w,B,h,x,d,z,r,v,A,y,G):"instagram"===a[e][0]?H(mjsGlobal.locationProtocol+"//instagram.com/p/"+a[e][da+1]+"/media/?size=l",n,w,B,h,x,d,z,r,v,A,y,G):"video"===a[e][0]||"youtube"===a[e][0]||"vimeo"===a[e][0]||"dailymotion"===a[e][0]?y?P(a[e][0],a[e][1],p,q,u,x,d,z,r,v,A,y,a[e][2]):P(a[e][0],"mjsSingleItem",p,q,u,x,d,z,r,v,A,y,a[e][1]):"maps"===a[e][0]&&(y?O(z,r,v, A,a[e][2],a[e][3],a[e][4],a[e][5],a[e][6],a[e][7],y):O(z,r,v,A,a[e][1],a[e][2],a[e][3],a[e][4],a[e][5],a[e][6],y));1<J&&y&&(c.append('<div class="mjs-previous mjs-i-left-open"></div><div class="mjs-next mjs-i-right-open"></div>'),c=$(".mjs-previous"),f=$(".mjs-next"),c.css({color:"#"+r}),f.css({color:"#"+r}),c.on("touchstart",function(a){a.stopPropagation();a.preventDefault();a.target.click()}),c.on("click",function(){$("#mjs-zoom-box").remove();var b=$(".mjs-fs-wrapper");b.off("mouseleave mouseenter"); e--; -1===e&&(e=J-1);$(".mjs-title-area").remove();x&&(d="undefined"!==typeof a[e][3]?a[e][3]:"");var c;mjsGlobal.itemOnStage&&"image"===mjsGlobal.itemType?c=$(".mjs-fs-wrapper").find("img"):mjsGlobal.itemOnStage&&"video"===mjsGlobal.itemType?c=$(".mjs-video-player"):mjsGlobal.itemOnStage&&"maps"===mjsGlobal.itemType&&(c=$(".map-area"));W(a[e][0]);"instagram"===a[e][0]?c.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");H(mjsGlobal.locationProtocol+"//instagram.com/p/"+ a[e][2]+"/media/?size=l",n,w,B,h,x,d,z,r,v,A,y,G)}):"flickr"===a[e][0]?c.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");Q(a[e][1],a[e][2],e,"big",n,w,B,h,x,d,z,r,v,A,y,G)}):"image"===a[e][0]?c.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");H(a[e][2],n,w,B,h,x,d,z,r,v,A,y,G)}):"video"===a[e][0]||"youtube"===a[e][0]||"vimeo"===a[e][0]||"dailymotion"===a[e][0]?c.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage"); P(a[e][0],a[e][1],p,q,u,x,d,z,r,v,A,y,a[e][1])}):"maps"===a[e][0]&&c.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");O(z,r,v,A,a[e][2],a[e][3],a[e][4],a[e][5],a[e][6],a[e][7],y)});b.attr("id","mjs"+e)}),f.on("touchstart",function(a){a.stopPropagation();a.preventDefault();a.target.click()}),f.on("click",function(){$("#mjs-zoom-box").remove();var b=$(".mjs-fs-wrapper");b.off("mouseleave mouseenter");e++;e===J&&(e=0);$(".mjs-title-area").remove();x&&(d="undefined"!==typeof a[e][3]? a[e][3]:"");var c;mjsGlobal.itemOnStage&&"image"===mjsGlobal.itemType?c=$(".mjs-fs-wrapper").find("img"):mjsGlobal.itemOnStage&&"video"===mjsGlobal.itemType?c=$(".mjs-video-player"):mjsGlobal.itemOnStage&&"maps"===mjsGlobal.itemType&&(c=$(".map-area"));W(a[e][0]);"instagram"===a[e][0]?c.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");H(mjsGlobal.locationProtocol+"//instagram.com/p/"+a[e][2]+"/media/?size=l",n,w,B,h,x,d,z,r,v,A,y,G)}):"flickr"===a[e][0]?c.fadeOut(200, function(){$(this).remove();$(document).trigger("mjsMediaOffStage");Q(a[e][1],a[e][2],e,"big",n,w,B,h,x,d,z,r,v,A,y,G)}):"image"===a[e][0]?c.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");H(a[e][2],n,w,B,h,x,d,z,r,v,A,y,G)}):"video"===a[e][0]||"youtube"===a[e][0]||"vimeo"===a[e][0]||"dailymotion"===a[e][0]?c.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");P(a[e][0],a[e][1],p,q,u,x,d,z,r,v,A,y,a[e][1])}):"maps"===a[e][0]&&c.fadeOut(200, function(){$(this).remove();$(document).trigger("mjsMediaOffStage");O(z,r,v,A,a[e][2],a[e][3],a[e][4],a[e][5],a[e][6],a[e][7],y)});b.attr("id","mjs"+e)}));b.on("touchstart",function(a){if(mjsGlobal.timeSpacer)a.stopPropagation(),a.preventDefault();else{a.stopPropagation();a.preventDefault();var b=$(a.target);"undefined"!==typeof b[0].src&&-1<b[0].src.indexOf("maps.gstatic.com")||($(document).off("touchmove",N),mjsGlobal.hasSwipe=!1,mjsGlobal.hasSwipeLeft=!1,mjsGlobal.hasSwipeRight=!1,mjsGlobal.startX= a.originalEvent.touches[0].clientX,mjsGlobal.startY=a.originalEvent.touches[0].clientY,$(document).on("touchmove",T),$(this).on("touchend",function oa(a){$(document).off("touchmove",T);mjsGlobal.hasSwipe?mjsGlobal.hasSwipeLeft?$(".mjs-next").trigger("click"):mjsGlobal.hasSwipeRight&&$(".mjs-previous").trigger("click"):a.target.click();$(this).off("touchend",oa)}))}});b.on("click",function(a){mjsGlobal.timeSpacer?(a.stopPropagation(),a.preventDefault()):(a=$(a.target),"undefined"!==typeof a[0].src&& -1<a[0].src.indexOf("maps.gstatic.com")||a.parents(".mjs-fs-wrapper").length&&!a.hasClass("mjs-close")||$(this).fadeOut(300,function(){$(this).remove();$(".mjs-parent-spin").removeClass("mjs-do-spin").hide();fa(mjsGlobal);$(document).trigger("mjsMediaOffStage")}),$(document).off("touchstart",ga))})}});ma(E,l);L&&($(document).on("touchstart","#"+E+" > .mjs-facebook",function(a){a.stopPropagation();a.preventDefault();a.target.click()}),$(document).on("click","#"+E+" > .mjs-facebook",function(){var a= window.location.origin+window.location.pathname,a=a+"?magnetid="+$(".mjs-fs-wrapper").attr("id"),a=mjsGlobal.locationProtocol+"//www.facebook.com/dialog/share?app_id="+R+"&display=popup&href="+encodeURIComponent(a)+"&redirect_uri="+a;window.open(a,"_blank")}),$(document).on("touchstart","#"+E+" > .mjs-twitter",function(a){a.stopPropagation();a.preventDefault();a.target.click()}),$(document).on("click","#"+E+" .mjs-twitter",function(){var a=window.location.origin+window.location.pathname,a=a+"?magnetid="+ $(".mjs-fs-wrapper").attr("id"),a=mjsGlobal.locationProtocol+"//twitter.com/share?url="+encodeURIComponent(a);window.open(a,"_blank")}))}if(l){var aa=setInterval(function(){ca>=J-mjsGlobal.loadError&&(C.show(0,function(){if(U){var a=$("#mjs-ecommerce-col").height();a>$(".mjs-ecommerce-main").height()&&($(".mjs-ecommerce-gallery").height(a),$(".mjs-ecommerce-main").addClass("mjs-ecommerce-main-adjust"))}}),clearInterval(aa))},100);$(".mjs-generic").css({border:k+"px solid #"+t,"-webkit-border-radius":g+ "px","-moz-border-radius":g+"px","border-radius":g+"px",padding:f+"px"});$(".mjs-generic").find("img").css({"max-height":d+"px",background:"#"+z,border:"none"})}y?($(".mjs-generic").on("focusout",function(){$(document).off("keydown",S)}),$(".mjs-generic").on("focusin",function(){var a=$(this);$(document).on("keydown",{param1:a},S)})):(C.on("focusout",function(){$(document).off("keydown",S)}),C.on("focusin",function(){var a=$(this);$(document).on("keydown",{param1:a},S)}));var ea=!1;$(window).on("resize", function(){ea||(setTimeout(function(){var a=$(".mjs-fs-wrapper"),b=$(".mjs-fullscreen"),c=a.width(),d=a.height(),e=$(window).width(),f=K();if(U){var g=$("#mjs-ecommerce-col").height();g>$(".mjs-ecommerce-main").height()?($(".mjs-ecommerce-gallery").height(g),$(".mjs-ecommerce-main").addClass("mjs-ecommerce-main-adjust")):$(".mjs-ecommerce-main").removeClass("mjs-ecommerce-main-adjust")}var g="",h=[];C.position();var k=a.attr("id"),l=mjsGlobal.borderWidth[k],k=mjsGlobal.borderRadius[k];mjsGlobal.itemOnStage&& "image"===mjsGlobal.itemType?(g="picture",h=I(c,d,e,f,l,k,g)):mjsGlobal.itemOnStage&&"video"===mjsGlobal.itemType?(g="video",h=I(c,d,e,f,l,k,g)):mjsGlobal.itemOnStage&&"maps"===mjsGlobal.itemType&&(g="maps",h=I(c,d,e,f,l,k,g));c=h[0];d=h[1];b.css({width:e+"px",height:f+"px"});"maps"===g?(a.css({width:c+"px",height:d+"px"}),google.maps.event.trigger(mjsGlobal.mapInstance,"resize")):(a.css({width:c+"px",height:d+"px"}),"video"===g&&($(".mjs-video-player").css({width:c+"px",height:d+"px"}),f=e=0,f=a.prop("id"), e=c>mjsGlobal.videoWidth[f]?mjsGlobal.videoWidth[f]:c,f=d>mjsGlobal.videoHeight[f]?mjsGlobal.videoHeight[f]:d,$(".mjs-video-player").find("iframe").css({width:e+"px",height:f+"px"})));if(0<b.find("#mjs-zoom-box").length){b.trigger("click");var m=a.prop("id").replace("mjs","");setTimeout(function(){$("#"+m).trigger("click")},1E3)}ea=!1},100),ea=!0)})}};D.prototype.openMedia=function(b){b=$("#"+b);b.hasClass("mjs-generic")?b.find("img").trigger("click"):b.trigger("click");return this};D.prototype.closeMedia= function(){$(".mjs-close").trigger("click");return this};D.prototype.previousMedia=function(){mjsGlobal.itemOnStage&&$(".mjs-previous").trigger("click");return this};D.prototype.nextMedia=function(){mjsGlobal.itemOnStage&&$(".mjs-next").trigger("click");return this};D.prototype.getOpenedMediaInfo=function(){return mjsGlobal.itemOnStage?mjsGlobal.itemName:null};D.prototype.getElements=function(b){return"string"===typeof b?b:null};D.prototype.setDefaults=function(b){var d=this._setDefaults,c;for(c in d)"undefined"!== typeof b[c]&&typeof d[c]===typeof b[c]&&(this._setDefaults[c]=b[c])};return D}();