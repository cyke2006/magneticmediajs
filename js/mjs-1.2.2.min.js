/* Magneticmediajs 1.2.2 | Copyright (c) 2014 Arnaud Leyder at Leyder Consulting https://www.leyder-consulting.com/
License information available at https://www.magneticmediajs.com/terms-of-service.html
For contact information please visit https://www.magneticmediajs.com
*/
var mjsGlobal={itemOnStage:!1,itemType:"",itemName:"",mapCallback:function(){},mapInstance:{},borderWidth:{},borderRadius:{},videoWidth:{},videoHeight:{},loadError:0,locationProtocol:"",hasTouchMove:!1,hasSwipe:!1,hasSwipeLeft:!1,hasSwipeRight:!1,startX:0,startY:0,timeSpacer:!1},Magneticmediajs=function(){function C(b,c,d){this.elements=this.getElements(b);this._defaults={color1:"080808",color2:"fdfdfd",borderWidth:8,borderRadius:8,background:"000000",backgroundOpacity:.7,displayTitle:!1,videoWidth:640, videoHeight:360,autoPlayVideo:!1,zoomOn:!1,zoomLevel:2,zoomType:"default",zoomSize:200,sharing:!1,facebookID:0xedf5063be3ee,gallery:!1,ecommerce:!1,showIcons:!0,galleryMaxThumbnailHeight:150,thumbnailPadding:0,thumbnailBorderWidth:0,thumbnailBorderRadius:0,thumbnailBorderColor:"BBB",filter:"none",onMjsMediaOnStage:function(){},onMjsMediaOffStage:function(){}};this.settings=c;this.data=d}var ga=function(){var b=window.location.protocol;mjsGlobal.locationProtocol="undefined"===typeof b?"https:":"http:"=== b?b:"https:"},T=function(b){b=b.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(b,d,f,a){return d+d+f+f+a+a});return(b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b))?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},G=function(b,c,d,f,a,p,h){var k=b/c;768>d?(a/=2.5,p/=2.5,d=Math.floor(75*d/100),f=Math.floor(75*f/100)):768<=d&&1024>d?(a/=1.5,p/=1.5,d=Math.floor(80*d/100),f=Math.floor(80*f/100)):(d=Math.floor(82*d/100),f=Math.floor(82*f/100));b>d&&c>f?(b=d,c=Math.floor(b/ k),c>f&&(c=f,b=Math.floor(c*k))):b>d?(b=d,c=Math.floor(b/k),"maps"===h&&c<f&&(c=f)):c>f?(c=f,b=Math.floor(c*k),"maps"===h&&b<d&&(b=d)):(b=d,c=Math.floor(b/k),c>f&&(c=f,b=Math.floor(c*k)));h=[];h[0]=b;h[1]=c;h[2]=a;h[3]=p;return h},U=function(b){mjsGlobal.itemOnStage=!0;mjsGlobal.itemName=b;"image"===b||"flickr"===b||"instagram"===b?mjsGlobal.itemType="image":"video"===b||"youtube"===b||"vimeo"===b||"dailymotion"===b?mjsGlobal.itemType="video":"maps"===b&&(mjsGlobal.itemType="maps")},da=function(){mjsGlobal.itemOnStage= !1;mjsGlobal.itemName="";mjsGlobal.itemType="";mjsGlobal.mapInstance=null},I=function(){return navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/g)?window.innerHeight:$(window).height()},J=function(b,c){0===b&&0<c&&($(".mjs-fs-wrapper > img").css("border-radius",c+"px"),$(".mjs-fs-wrapper > video").css("border-radius",c+"px"))},F=function(b,c,d,f,a,p,h,k,u,l,q,w,m){var n=$(window).width(),A=I(),s=new Image;s.id="mjs-img-full";$(s).appendTo(".mjs-fs-wrapper");$(s).on("load",function(){var b= V(s),t=b[0],b=b[1],r=G(t,b,n,A,l,q,"picture"),t=r[0],b=r[1],w=r[2],r=r[3];$(".mjs-fs-wrapper").css({width:t+"px",height:b+"px","max-width":"","max-height":""}).fadeIn(300);c&&W(s.src,d,f,a);p&&""!==h&&($(".mjs-fs-wrapper").append('<div class="mjs-title-area">'+h+"</div>"),$(".mjs-fs-wrapper").css({"margin-top":"-15px"}));K(k,u,w,r);"none"!==m&&$(".mjs-fs-wrapper > img").addClass("mjs-"+m);$(".mjs-parent-spin").removeClass("mjs-do-spin");$(".mjs-parent-spin").hide();J(w,r);$(document).trigger("mjsMediaOnStage")}); $(s).on("error",function(){$(".mjs-fullscreen").remove();$(".mjs-parent-spin").removeClass("mjs-do-spin");$(".mjs-parent-spin").hide();alert("An error occurred while loading this content. Please try again later.")});s.src=b},X=function(b,c,d,f,a){b=new google.maps.LatLng(b,c);d={zoom:d,center:b};mjsGlobal.mapInstance=new google.maps.Map(document.getElementById("map-canvas"),d);var p=new google.maps.InfoWindow({content:a,maxWidth:300}),h=new google.maps.Marker({position:b,map:mjsGlobal.mapInstance, animation:google.maps.Animation.DROP,title:f});google.maps.event.addListener(h,"click",function(){p.open(mjsGlobal.mapInstance,h)})},Y=function(b){$("#mjsMaps").next().remove();$("#mjsMaps").remove();var c=document.createElement("script");c.type="text/javascript";c.id="mjsMaps";window.mapCallback=mjsGlobal.mapCallback;c.src=""!==b?mjsGlobal.locationProtocol+"//maps.googleapis.com/maps/api/js?key="+b+"&v=3.exp&callback=window.mapCallback":mjsGlobal.locationProtocol+"//maps.googleapis.com/maps/api/js?v=3.exp&callback=window.mapCallback"; document.body.appendChild(c)},M=function(b,c,d,f,a,p,h,k,u,l,q){q=$(window).width();var w=I();$(".mjs-fullscreen").css({width:q+"px",height:w+"px"});$('<div id="map-canvas" class="map-area"></div>').appendTo(".mjs-fs-wrapper");mjsGlobal.mapCallback=function(){X(p,h,k,u,l)};Y(a);q=G(q,w,q,w,d,f,"maps");d=q[0];f=q[1];a=q[2];q=q[3];$(".mjs-fs-wrapper").css({width:d+"px",height:f+"px","max-width":"","max-height":"",background:"#FFFFFF",color:"#000000"}).fadeIn(300);K(b,c,a,q);$(".mjs-parent-spin").removeClass("mjs-do-spin"); $(".mjs-parent-spin").hide();$(document).trigger("mjsMediaOnStage")},N=function(b,c,d,f,a,p,h,k,u,l,q,w,m){w=$(window).width();var n=I();"mjsSingleItem"===c&&(c=m,m="");var A;A=a?1:0;if(-1<b.indexOf("youtube"))var s='<div class="mjs-video-player"><iframe src="'+mjsGlobal.locationProtocol+"//www.youtube.com/embed/"+c+"?autoplay="+A+'" frameborder="0" allowfullscreen></iframe></div>';else-1<b.indexOf("vimeo")?s='<div class="mjs-video-player"><iframe src="'+mjsGlobal.locationProtocol+"//player.vimeo.com/video/"+ c+"?autoplay="+A+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>':-1<b.indexOf("dailymotion")?s='<div class="mjs-video-player"><iframe src="'+mjsGlobal.locationProtocol+"//www.dailymotion.com/embed/video/"+c+"?autoplay="+A+'" frameborder="0"></iframe></div>':(b=c,c=m,""===m&&(c=b,b=""),m=!1,document.createElement("video").canPlayType&&""!==document.createElement("video").canPlayType("video/mp4")&&(m=!0),m?s='<video controls poster="'+b+'" src="'+c+'" class="mjs-video-player" '+ (a?"autoplay":"")+' preload="auto"></video>':(m=c,"http:"!==m.substring(0,5)&&"https:"!==m.substring(0,5)&&(m="../"+m),"undefined"!==typeof swfobject&&swfobject.hasFlashPlayerVersion("10")&&(b=encodeURIComponent(b),m=encodeURIComponent(m),s='<div class="mjs-video-player"><object width="100%" height="100%"><param name="movie" value="flash/StrobeMediaPlayback.swf"></param><param name="flashvars" value="src='+m+"&poster="+b+"&controlBarAutoHide=true&autoPlay="+a+'"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><param name="wmode" value="transparent"></param><embed width="100%" height="100%" src="flash/StrobeMediaPlayback.swf" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" wmode="transparent" flashvars="src='+ m+"&poster="+b+"&controlBarAutoHide=true&autoPlay="+a+'"></embed></object>')));l=G(d,f,w,n,l,q,"video");width=l[0];height=l[1];a=l[2];l=l[3];$(".mjs-fs-wrapper").append(s);$(".mjs-fs-wrapper,.mjs-video-player").css({width:width+"px",height:height+"px","max-width":d+"px","max-height":f+"px"}).fadeIn(300);q=s=0;s=width>d?d:width;q=height>f?f:height;$(".mjs-video-player > iframe").css({width:s+"px",height:q+"px"});p&&""!==h&&($(".mjs-fs-wrapper").append('<div class="mjs-title-area">'+h+"</div>"),$(".mjs-fs-wrapper").css({"margin-top":"-15px"})); K(k,u,a,l);$(".mjs-parent-spin").removeClass("mjs-do-spin");$(".mjs-parent-spin").hide();J(a,l);$(document).trigger("mjsMediaOnStage")},ha=function(b,c,d){var f="mqdefault";"small"===c?f="default":"medium"===c?f="mqdefault":"large"===c&&(f="hqdefault");b=mjsGlobal.locationProtocol+"//img.youtube.com/vi/"+b+"/"+f+".jpg";$("#mjsThumb"+d).prop("src",b)},ia=function(b,c,d){$.ajax({url:"https://www.vimeo.com/api/v2/video/"+b+".json?callback=?",dataType:"jsonp",timeout:5E3}).done(function(b){var a="",a= "small"===c?b[0].thumbnail_small:"medium"===c?b[0].thumbnail_medium:b[0].thumbnail_large;-1<a.indexOf("http:")&&"https:"===mjsGlobal.locationProtocol&&(a=a.replace("http:",mjsGlobal.locationProtocol));$("#mjsThumb"+d).prop("src",a)}).fail(function(){$("#mjsThumb"+d).parent().remove();mjsGlobal.loadError+=1})},ja=function(b,c,d){var f="360";"small"===c?f="180":"medium"===c?f="360":"large"===c&&(f="720");$.getJSON("https://api.dailymotion.com/video/"+b+"?fields=thumbnail_"+f+"_url",function(a){a=a["thumbnail_"+ f+"_url"];$("#mjsThumb"+d).prop("src",a)}).fail(function(){$("#mjsThumb"+d).parent().remove();mjsGlobal.loadError+=1})},V=function(b){var c=[];b.naturalWidth?(c[0]=b.naturalWidth,c[1]=b.naturalHeight):((new Image).src=b.src,$(newImage).on("load",function(){c[0]=this.width;c[1]=this.height}));return c},O=function(b,c,d,f,a,p,h,k,u,l,q,w,m,n,A,s){var z,t;$.ajax({url:"https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=3b109ff5810e4d81b73292507ca19928&text="+c+"&safe_search=1&per_page=10&user_id="+ b+"&format=json&jsoncallback=?",dataType:"jsonp",timeout:5E3}).done(function(b){"undefined"!==typeof b.photos&&0<b.photos.total?$.each(b.photos.photo,function(b,c){"thumbnail"===f?(t=mjsGlobal.locationProtocol+"//farm"+c.farm+".static.flickr.com/"+c.server+"/"+c.id+"_"+c.secret+"_n.jpg",$("#mjsThumb"+d).prop("src",t)):(z=mjsGlobal.locationProtocol+"//farm"+c.farm+".static.flickr.com/"+c.server+"/"+c.id+"_"+c.secret+"_b.jpg",F(z,a,p,h,k,u,l,q,w,m,n,A,s))}):"thumbnail"===f?($("#mjsThumb"+d).parent().remove(), mjsGlobal.loadError+=1):($(".mjs-fullscreen").remove(),$(".mjs-parent-spin").removeClass("mjs-do-spin"),$(".mjs-parent-spin").hide(),alert("An error occurred while loading this content. Please try again later."))}).fail(function(){"thumbnail"===f?($("#mjsThumb"+d).parent().remove(),mjsGlobal.loadError+=1):($(".mjs-fullscreen").remove(),$(".mjs-parent-spin").removeClass("mjs-do-spin"),$(".mjs-parent-spin").hide(),alert("An error occurred while loading this content. Please try again later."))})},P= function(b,c,d,f,a,p,h,k){var u;u=b;if(c)l=u.originalEvent.touches[0].pageX;else{var l=0;u||(u=window.event);u.pageX?l=u.pageX:u.clientX&&(l=u.clientX)}u=l;c?c=b.originalEvent.touches[0].pageY:(c=0,b||(b=window.event),b.pageY?c=b.pageY:b.clientX&&(c=b.clientY));l=b=0;b=u<a+k/4?-(k/4):u>=d+a-k/4?d-3*k/4:u-k/2-a;l=c<p+k/4?-(k/4):c>=f+p-k/4?f-3*k/4:c-k/2-p;bgX=b*h+k/2;bgY=l*h+k/2;0>bgY&&(bgY=0);0>bgX&&(bgX=0);$("#mjs-zoom-box").css({"background-position":"-"+bgX+"px -"+bgY+"px",left:""+b+"px",top:""+ l+"px"});$("#mjs-zoom-box").css({"background-size":""+d*h+"px "+f*h+"px"})},ea=function(b){b.stopPropagation();b.preventDefault();"mjs-fs-wrapper"!==b.target.id&&$(".mjs-fs-wrapper").trigger("mouseleave")},W=function(b,c,d,f){var a=!1,p=$(".mjs-fs-wrapper").width(),h=$(".mjs-fs-wrapper").height(),k=$(".mjs-fs-wrapper").offset().left,u=$(".mjs-fs-wrapper").offset().top,l=!1;$(document).on("touchstart",ea);$(".mjs-fs-wrapper").on("mouseleave",function(){$("#mjs-zoom-box").fadeOut("fast",function(){$(this).remove(); a=!1})});$(".mjs-fs-wrapper").on("touchstart",function(a){a.stopPropagation();a.preventDefault();l=!0;$(this).trigger("mouseenter",[a])});$(".mjs-fs-wrapper").on("mouseenter",function(q,w){if(a)l||(w=q),"mjs-zoom-box"!==w.target.id&&$(".mjs-fs-wrapper").trigger("mouseleave");else{$('<div id="mjs-zoom-box"></div>').hide().appendTo($(this));$("#mjs-zoom-box").css({"background-image":'url("'+b+'")'});$("#mjs-zoom-box").fadeIn("fast");a=!0;var m=$(window).width(),n=f;480>m?n=100:768>m&&(n/=1.4);100>n? n=100:300<n&&(n=300);$("#mjs-zoom-box").width(n);$("#mjs-zoom-box").height(n);"lens"===d?$("#mjs-zoom-box").css({"border-radius":"50%","-webkit-box-shadow":"inset 0px 0px 2px 2px #000, 0 0 0 8px #0a0a0a, 0 0 0 9px #EEE, 0px 0px 2px 10px #000","box-shadow":"inset 0px 0px 2px 2px #000, 0 0 0 8px #0a0a0a, 0 0 0 9px #EEE, 0px 0px 2px 10px #000"}):$("#mjs-zoom-box").css({"border-radius":"1px",border:"none","-webkit-box-shadow":"0px 0px 3px 1px #000","box-shadow":"0px 0px 3px 1px #000"});l||(w=q);P(w,l, p,h,k,u,c,n)}$(".mjs-fs-wrapper").on("mousemove touchmove",function(a){P(a,l,p,h,k,u,c,n)})})},K=function(b,c,d,f){if(b===c)var a=b,p="000";else a=b,p=c;$(".mjs-fs-wrapper").css({"border-radius":f+"px"});0<$(".mjs-fs-wrapper").find("img#mjs-img-full").length?$(".mjs-fs-wrapper > img#mjs-img-full").css({border:d+"px solid #"+b,"border-radius":f+"px"}):0<$(".mjs-fs-wrapper").find(".map-area").length?$(".mjs-fs-wrapper > .map-area").css({border:d+"px solid #"+b,"border-radius":f+"px"}):0<$(".mjs-fs-wrapper").find("video.mjs-video-player").length? $(".mjs-fs-wrapper > video.mjs-video-player").css({border:d+"px solid #"+b,"border-radius":f+"px"}):0<$(".mjs-video-player").find("iframe").length&&$(".mjs-video-player > iframe").css({border:d+"px solid #"+b,"border-radius":f+"px"});$(".mjs-title-area").css({color:"#"+p,background:"#"+a,"border-radius":Math.round(f/2)+"px"});$(".mjs-close,.mjs-facebook,.mjs-twitter").css({color:"#"+c})},fa=function(b,c){$(".mjs-parent-spin").css({background:"#"+b,color:"#"+c})},Q=function(b){b.stopPropagation(); var c=b.data.param1.find("img");switch(b.which){case 32:b.preventDefault();0>=$(document).find(".mjs-fullscreen").length&&(b.data.param1.hasClass("mjs-generic")?c.trigger("click"):b.data.param1.trigger("click"));break;case 27:b.preventDefault();$(".mjs-fullscreen").fadeOut(300,function(){$(this).remove();da();$(document).trigger("mjsMediaOffStage")});break;case 37:b.preventDefault();$(".mjs-previous").trigger("click");break;case 39:b.preventDefault(),$(".mjs-next").trigger("click")}},ka=function(b, c){for(var d=$(location).attr("search"),d=d.substr(1).split("&"),f=0;f<d.length;f++){var a=d[f].split("=");"magnetid"===a[0]&&(c&&a[1]===b?$("img#mjsThumb"+a[1].substr(a[1].length-1)).trigger("click"):!c&&(1<b.indexOf(a[1])||b===a[1])&&$("#"+a[1].replace("mjs","")).trigger("click"))}},L=function(b){if(10<Math.abs(b.originalEvent.touches[0].clientX-mjsGlobal.startX)||10<Math.abs(b.originalEvent.touches[0].clientY-mjsGlobal.startY))mjsGlobal.hasTouchMove=!0,$(document).off("touchmove",L)},R=function(b){50< b.originalEvent.touches[0].clientX-mjsGlobal.startX?(mjsGlobal.hasSwipe=!0,mjsGlobal.hasSwipeLeft=!0,$(document).off("touchmove",R)):50<mjsGlobal.startX-b.originalEvent.touches[0].clientX&&(mjsGlobal.hasSwipe=!0,mjsGlobal.hasSwipeRight=!0,$(document).off("touchmove",R))};C.prototype.init=function(){if(null===this.elements)return null;var b=$.trim(this.elements).split(","),c=this.settings,d=this._defaults,f;for(f in d)if("undefined"!==typeof c[f]){if(typeof c[f]!==typeof d[f])return console.log("Invalid input settings (typeof) for Magneticmedisjs"), null;d[f]=c[f]}var a=this.data;if(a.constructor!==Array)return console.log("Invalid data array - not an Array"),null;if(1>a.length)return null;for(c=0;c<a.length;c++){f=a[c];if(f.constructor!==Array)return console.log("Invalid data array - not an Array of Array"),null;var p=f.length;if(2>p)return null;for(var h=0;h<p;h++)if("string"!==typeof f[h]&&"maps"===f[0]&&"number"!==typeof f[h])return console.log("Invalid data array - only strings are valid for data array content"+typeof f[h]),null}var k=d.gallery, c=d.galleryMaxThumbnailHeight;f=d.thumbnailPadding;var p=d.thumbnailBorderWidth,h=d.thumbnailBorderRadius,u=d.thumbnailBorderColor,l=d.videoWidth,q=d.videoHeight,w=d.autoPlayVideo,m=d.zoomOn,n=d.zoomLevel;1>n?n=1:4<n&&(n=4);var A=d.zoomType,s=d.zoomSize,z=d.displayTitle,t=d.color1,r=d.color2,E=d.filter,x=d.borderWidth;20<x?x=20:0>x&&(x=0);var y=d.borderRadius;20<y?y=20:0>y&&(y=0);var C=d.background,K=d.backgroundOpacity,J=d.sharing,P=d.facebookID,S=d.ecommerce;S&&(k=!0);var V=d.showIcons,W=d.onMjsMediaOnStage, X=d.onMjsMediaOffStage,v=!1;k&&(v=!0);var H=a.length;ga();for(d=0;d<b.length;d++){var B=$($.trim(b[d]));v||B.attr("tabindex","0");var e=0,Z=0;$(document).on("mjsMediaOnStage",function(){W()});$(document).on("mjsMediaOffStage",function(){X()});$("body").has(".mjs-parent-spin").length||($("body").append('<div class="mjs-parent-spin"><span class="mjs-s-spin animate-spin"></span></div>'),fa(t,r));k&&(B.addClass("mjs-row-gallery"),B.hide());for(var g=0;g<H;g++){if(k){var D="mjs"+g;S?0===g?(B.addClass("mjs-ecommerce-gallery"), B.append('<div class="mjs-generic mjs-ecommerce-main" tabindex="0"><img id="mjsThumb'+g+'" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" /></div>')):(1===g&&B.append('<div id="mjs-ecommerce-col"></div>'),$("#mjs-ecommerce-col").append('<div class="mjs-generic mjs-ecommerce-col-img" tabindex="0"><img id="mjsThumb'+g+'" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" /></div>')):B.append('<div class="mjs-generic" tabindex="0"><img id="mjsThumb'+g+'" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" /></div>'); $("#mjsThumb"+g).on("error",{param:g},function(a){$("#mjsThumb"+a.data.param).parent().remove();mjsGlobal.loadError+=1});$("#mjsThumb"+g).on("load",function(){"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D"!==$(this).attr("src")&&(Z+=1)});"youtube"===a[g][0]?ha(a[g][1],a[g][2],g):"vimeo"===a[g][0]?ia(a[g][1],a[g][2],g):"dailymotion"===a[g][0]?ja(a[g][1],a[g][2],g):"flickr"===a[g][0]?O(a[g][1],a[g][2],g,"thumbnail","","","","","","","","","","",E):"instagram"===a[g][0]?$("#mjsThumb"+ g).prop("src",mjsGlobal.locationProtocol+"//instagram.com/p/"+a[g][1]+"/media/?size=m"):$("#mjsThumb"+g).prop("src",a[g][1]);V&&("video"===a[g][0]||"youtube"===a[g][0]||"vimeo"===a[g][0]||"dailymotion"===a[g][0]?$("#mjsThumb"+g).parent().append('<div class="mjs-video-play-gallery mjs-i-play-circled"></div>'):"maps"===a[g][0]&&$("#mjsThumb"+g).parent().append('<div class="mjs-video-play-gallery mjs-i-location"></div>'));$(".mjs-video-play-gallery").css({color:"#"+r});var aa=$("#mjsThumb"+g).parent().children(), ba=1}else D="undefined"!==typeof B.attr("id")?"mjs"+B.attr("id"):B.offset().left+B.offset().top,aa=B,ba=0;mjsGlobal.borderWidth[D]=x;mjsGlobal.borderRadius[D]=y;mjsGlobal.videoWidth[D]=l;mjsGlobal.videoHeight[D]=q;aa.on("touchstart",function(a){$("body").has(".mjs-fullscreen").length||($(document).off("touchmove",L),mjsGlobal.hasTouchMove=!1,mjsGlobal.startX=a.originalEvent.touches[0].clientX,mjsGlobal.startY=a.originalEvent.touches[0].clientY,$(document).on("touchmove",L),$(this).on("touchend",function la(a){$(document).off("touchmove", L);mjsGlobal.hasTouchMove||(a.stopPropagation(),a.preventDefault(),a.target.click());$(this).off("touchend",la)}))});aa.on("click",{param:g},function(b){if(!$("body").has(".mjs-fullscreen").length){mjsGlobal.timeSpacer=!0;setTimeout(function(){mjsGlobal.timeSpacer=!1},500);b.stopPropagation();$("#mjs-zoom-box").remove();$(".mjs-fs-wrapper").off("mouseleave mouseenter");e=b.data.param;var c="";$("body").append('<div class="mjs-fullscreen"></div>');$(".mjs-parent-spin").show();$(".mjs-parent-spin").addClass("mjs-do-spin"); fa(t,r);b=T("#"+C).r;var d=T("#"+C).g,f=T("#"+C).b,g=$(window).width(),h=I();$(".mjs-fullscreen").css({width:g+"px",height:h+"px",background:"rgba("+b+","+d+","+f+","+K+")"});b="";b=1<H&&v?"mjs"+e:D;$(".mjs-fullscreen").append('<div class="mjs-fs-wrapper" id="'+b+'"><div class="mjs-close mjs-icons mjs-i-cancel"></div></div>');J&&$(".mjs-fs-wrapper").append('<div class="mjs-facebook mjs-icons mjs-i-facebook-squared"></div><div class="mjs-twitter mjs-icons mjs-i-twitter-squared"></div>');z&&("image"!== a[e][0]&&"instagram"!==a[e][0]||k||"undefined"===typeof a[e][2]?"undefined"!==typeof a[e][3]&&(c=a[e][3]):c=a[e][2]);U(a[e][0]);"image"===a[e][0]?F(a[e][ba+1],m,n,A,s,z,c,t,r,x,y,v,E):"flickr"===a[e][0]?O(a[e][1],a[e][2],e,"big",m,n,A,s,z,c,t,r,x,y,v,E):"instagram"===a[e][0]?F(mjsGlobal.locationProtocol+"//instagram.com/p/"+a[e][ba+1]+"/media/?size=l",m,n,A,s,z,c,t,r,x,y,v,E):"video"===a[e][0]||"youtube"===a[e][0]||"vimeo"===a[e][0]||"dailymotion"===a[e][0]?v?N(a[e][0],a[e][1],l,q,w,z,c,t,r,x,y,v, a[e][2]):N(a[e][0],"mjsSingleItem",l,q,w,z,c,t,r,x,y,v,a[e][1]):"maps"===a[e][0]&&(v?M(t,r,x,y,a[e][2],a[e][3],a[e][4],a[e][5],a[e][6],a[e][7],v):M(t,r,x,y,a[e][1],a[e][2],a[e][3],a[e][4],a[e][5],a[e][6],v));1<H&&v&&($(".mjs-fs-wrapper").append('<div class="mjs-previous mjs-i-left-open"></div><div class="mjs-next mjs-i-right-open"></div>'),$(".mjs-next,.mjs-previous").css({color:"#"+r}),$(".mjs-previous").on("touchstart",function(a){a.stopPropagation();a.preventDefault();a.target.click()}),$(".mjs-previous").on("click", function(){$("#mjs-zoom-box").remove();$(".mjs-fs-wrapper").off("mouseleave mouseenter");e--; -1===e&&(e=H-1);$(".mjs-title-area").remove();z&&(c="undefined"!==typeof a[e][3]?a[e][3]:"");var b;mjsGlobal.itemOnStage&&"image"===mjsGlobal.itemType?b=$(".mjs-fs-wrapper > img"):mjsGlobal.itemOnStage&&"video"===mjsGlobal.itemType?b=$(".mjs-video-player"):mjsGlobal.itemOnStage&&"maps"===mjsGlobal.itemType&&(b=$(".map-area"));U(a[e][0]);"instagram"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage"); F(mjsGlobal.locationProtocol+"//instagram.com/p/"+a[e][2]+"/media/?size=l",m,n,A,s,z,c,t,r,x,y,v,E)}):"flickr"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");O(a[e][1],a[e][2],e,"big",m,n,A,s,z,c,t,r,x,y,v,E)}):"image"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");F(a[e][2],m,n,A,s,z,c,t,r,x,y,v,E)}):"video"===a[e][0]||"youtube"===a[e][0]||"vimeo"===a[e][0]||"dailymotion"===a[e][0]?b.fadeOut(200,function(){$(this).remove(); $(document).trigger("mjsMediaOffStage");N(a[e][0],a[e][1],l,q,w,z,c,t,r,x,y,v,a[e][1])}):"maps"===a[e][0]&&b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");M(t,r,x,y,a[e][2],a[e][3],a[e][4],a[e][5],a[e][6],a[e][7],v)});$(".mjs-fs-wrapper").attr("id","mjs"+e)}),$(".mjs-next").on("touchstart",function(a){a.stopPropagation();a.preventDefault();a.target.click()}),$(".mjs-next").on("click",function(){$("#mjs-zoom-box").remove();$(".mjs-fs-wrapper").off("mouseleave mouseenter"); e++;e===H&&(e=0);$(".mjs-title-area").remove();z&&(c="undefined"!==typeof a[e][3]?a[e][3]:"");var b;mjsGlobal.itemOnStage&&"image"===mjsGlobal.itemType?b=$(".mjs-fs-wrapper > img"):mjsGlobal.itemOnStage&&"video"===mjsGlobal.itemType?b=$(".mjs-video-player"):mjsGlobal.itemOnStage&&"maps"===mjsGlobal.itemType&&(b=$(".map-area"));U(a[e][0]);"instagram"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");F(mjsGlobal.locationProtocol+"//instagram.com/p/"+a[e][2]+ "/media/?size=l",m,n,A,s,z,c,t,r,x,y,v,E)}):"flickr"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");O(a[e][1],a[e][2],e,"big",m,n,A,s,z,c,t,r,x,y,v,E)}):"image"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");F(a[e][2],m,n,A,s,z,c,t,r,x,y,v,E)}):"video"===a[e][0]||"youtube"===a[e][0]||"vimeo"===a[e][0]||"dailymotion"===a[e][0]?b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");N(a[e][0], a[e][1],l,q,w,z,c,t,r,x,y,v,a[e][1])}):"maps"===a[e][0]&&b.fadeOut(200,function(){$(this).remove();$(document).trigger("mjsMediaOffStage");M(t,r,x,y,a[e][2],a[e][3],a[e][4],a[e][5],a[e][6],a[e][7],v)});$(".mjs-fs-wrapper").attr("id","mjs"+e)}));$(".mjs-fullscreen").on("touchstart",function(a){if(mjsGlobal.timeSpacer)a.stopPropagation(),a.preventDefault();else{a.stopPropagation();a.preventDefault();var b=$(a.target);"undefined"!==typeof b[0].src&&-1<b[0].src.indexOf("maps.gstatic.com")||($(document).off("touchmove", L),mjsGlobal.hasSwipe=!1,mjsGlobal.hasSwipeLeft=!1,mjsGlobal.hasSwipeRight=!1,mjsGlobal.startX=a.originalEvent.touches[0].clientX,mjsGlobal.startY=a.originalEvent.touches[0].clientY,$(document).on("touchmove",R),$(this).on("touchend",function ma(a){$(document).off("touchmove",R);mjsGlobal.hasSwipe?mjsGlobal.hasSwipeLeft?$(".mjs-next").trigger("click"):mjsGlobal.hasSwipeRight&&$(".mjs-previous").trigger("click"):a.target.click();$(this).off("touchend",ma)}))}});$(".mjs-fullscreen").on("click",function(a){mjsGlobal.timeSpacer? (a.stopPropagation(),a.preventDefault()):(a=$(a.target),"undefined"!==typeof a[0].src&&-1<a[0].src.indexOf("maps.gstatic.com")||a.parents(".mjs-fs-wrapper").length&&!a.hasClass("mjs-close")||$(".mjs-fullscreen").fadeOut(300,function(){$(this).remove();$(".mjs-parent-spin").removeClass("mjs-do-spin");$(".mjs-parent-spin").hide();da(mjsGlobal);$(document).trigger("mjsMediaOffStage")}),$(document).off("touchstart",ea))})}});ka(D,k);J&&($(document).on("touchstart","#"+D+" > .mjs-facebook",function(a){a.stopPropagation(); a.preventDefault();a.target.click()}),$(document).on("click","#"+D+" > .mjs-facebook",function(){var a=window.location.origin+window.location.pathname,a=a+"?magnetid="+$(".mjs-fs-wrapper").attr("id"),a=mjsGlobal.locationProtocol+"//www.facebook.com/dialog/share?app_id="+P+"&display=popup&href="+encodeURIComponent(a)+"&redirect_uri="+a;window.open(a,"_blank")}),$(document).on("touchstart","#"+D+" > .mjs-twitter",function(a){a.stopPropagation();a.preventDefault();a.target.click()}),$(document).on("click", "#"+D+" .mjs-twitter",function(){var a=window.location.origin+window.location.pathname,a=a+"?magnetid="+$(".mjs-fs-wrapper").attr("id"),a=mjsGlobal.locationProtocol+"//twitter.com/share?url="+encodeURIComponent(a);window.open(a,"_blank")}))}if(k){var Y=setInterval(function(){Z>=H-mjsGlobal.loadError&&(B.show(0,function(){if(S){var a=$("#mjs-ecommerce-col").height();a>$(".mjs-ecommerce-main").height()&&($(".mjs-ecommerce-gallery").height(a),$(".mjs-ecommerce-main").addClass("mjs-ecommerce-main-adjust"))}}), clearInterval(Y))},100);$(".mjs-generic").css({border:p+"px solid #"+u,"-webkit-border-radius":h+"px","-moz-border-radius":h+"px","border-radius":h+"px",padding:f+"px"});$(".mjs-generic img").css({"max-height":c+"px",background:"#"+t,border:"none"})}v?($(".mjs-generic").on("focusout",function(){$(document).off("keydown",Q)}),$(".mjs-generic").on("focusin",function(){var a=$(this);$(document).on("keydown",{param1:a},Q)})):(B.on("focusout",function(){$(document).off("keydown",Q)}),B.on("focusin",function(){var a= $(this);$(document).on("keydown",{param1:a},Q)}));var ca=!1;$(window).on("resize",function(){ca||(setTimeout(function(){var a=$(".mjs-fs-wrapper").width(),b=$(".mjs-fs-wrapper").height(),c=$(window).width(),d=I();if(S){var e=$("#mjs-ecommerce-col").height();e>$(".mjs-ecommerce-main").height()?($(".mjs-ecommerce-gallery").height(e),$(".mjs-ecommerce-main").addClass("mjs-ecommerce-main-adjust")):$(".mjs-ecommerce-main").removeClass("mjs-ecommerce-main-adjust")}var e="",f=[];B.position();var g=$(".mjs-fs-wrapper").attr("id"), h=mjsGlobal.borderWidth[g],g=mjsGlobal.borderRadius[g];mjsGlobal.itemOnStage&&"image"===mjsGlobal.itemType?(e="picture",f=G(a,b,c,d,h,g,e)):mjsGlobal.itemOnStage&&"video"===mjsGlobal.itemType?(e="video",f=G(a,b,c,d,h,g,e)):mjsGlobal.itemOnStage&&"maps"===mjsGlobal.itemType&&(e="maps",f=G(a,b,c,d,h,g,e));a=f[0];b=f[1];$(".mjs-fullscreen").css({width:c+"px",height:d+"px"});"maps"===e?($(".mjs-fs-wrapper").css({width:a+"px",height:b+"px"}),google.maps.event.trigger(mjsGlobal.mapInstance,"resize")):($(".mjs-fs-wrapper").css({width:a+ "px",height:b+"px"}),"video"===e&&($(".mjs-video-player").css({width:a+"px",height:b+"px"}),d=c=0,d=$(".mjs-fs-wrapper").attr("id"),c=a>mjsGlobal.videoWidth[d]?mjsGlobal.videoWidth[d]:a,d=b>mjsGlobal.videoHeight[d]?mjsGlobal.videoHeight[d]:b,$(".mjs-video-player > iframe").css({width:c+"px",height:d+"px"})));if(0<$(".mjs-fullscreen > .mjs-fs-wrapper").find("#mjs-zoom-box").length){$(".mjs-fullscreen").trigger("click");var k=$(".mjs-fs-wrapper").prop("id").replace("mjs","");setTimeout(function(){$("#"+ k).trigger("click")},1E3)}ca=!1},100),ca=!0)})}};C.prototype.openMedia=function(b){$("#"+b).hasClass("mjs-generic")?$("#"+b).find("img").trigger("click"):$("#"+b).trigger("click");return this};C.prototype.closeMedia=function(){$(".mjs-close").trigger("click");return this};C.prototype.previousMedia=function(){mjsGlobal.itemOnStage&&$(".mjs-previous").trigger("click");return this};C.prototype.nextMedia=function(){mjsGlobal.itemOnStage&&$(".mjs-next").trigger("click");return this};C.prototype.getOpenedMediaInfo= function(){return mjsGlobal.itemOnStage?mjsGlobal.itemName:null};C.prototype.getElements=function(b){return"string"===typeof b?b:null};C.prototype.setDefaults=function(b){var c=this._setDefaults,d;for(d in c)"undefined"!==typeof b[d]&&typeof c[d]===typeof b[d]&&(this._setDefaults[d]=b[d])};return C}();